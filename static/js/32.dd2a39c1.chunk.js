(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[32],{1663:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o,s,l,b,u,j,d,x,m=n(2),p=n(399),O=n(18),h=n(0),f=n.n(h),g=n(75),v=n(777),k=n(14),y=n(8),w=n(1),S=Object(y.e)(m.q)(c||(c=Object(k.a)(["\n  background-image: url('/images/ifos/assets/ifo-banner-",".png');\n  background-position: top, center;\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n"])),(function(e){return e.theme.isDark?"dark":"light"})),I=Object(y.e)(m.eb)(a||(a=Object(k.a)(["\n  font-size: 40px;\n\n  "," {\n    font-size: 64px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),C=Object(y.e)(m.v)(r||(r=Object(k.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 4px 13px;\n  height: auto;\n  text-transform: uppercase;\n  align-self: flex-start;\n  font-size: 12px;\n  box-shadow: ",";\n  border-radius: 8px;\n  margin-left: 8px;\n"])),(function(e){return e.theme.colors.tertiary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.shadows.inset})),A=Object(y.e)(m.v)(i||(i=Object(k.a)(["\n  align-self: flex-end;\n"]))),P=Object(y.e)(m.Gc)(o||(o=Object(k.a)(["\n  font-size: 16px;\n\n  "," {\n    font-size: 20px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),T=function(){var e=Object(O.b)().t,t=Object(m.kd)().isMobile,n=function(){var e;null===(e=document.getElementById("ifo-how-to"))||void 0===e||e.scrollIntoView()};return Object(w.jsx)(m.q,{mb:"8px",children:Object(w.jsx)(S,{py:["16px","16px","32px"],minHeight:["212px","212px","197px"],children:Object(w.jsx)(p.a,{children:Object(w.jsxs)(m.cb,{justifyContent:"space-between",flexDirection:["column","column","column","row"],style:{gap:"4px"},children:[Object(w.jsxs)(m.q,{children:[Object(w.jsx)(I,{as:"h1",mb:["12px","12px","16px"],children:e("IFO: Initial Farm Offerings")}),Object(w.jsxs)(P,{bold:!0,children:[e("Buy new tokens launching on Binance Smart Chain"),t&&Object(w.jsx)(C,{onClick:n,children:e("How does it work?")})]})]}),!t&&Object(w.jsx)(A,{onClick:n,variant:"subtle",children:e("How does it work?")})]})})})})},D=n(39),F=n(3),E=n.n(F),B=n(5),L=n(12),U=n(10),G=n(22),K=n.n(G),z=n(96),R=n(419),H=n(29),M=n(71),N=n(270),q=n(37),V=n(44),W=function(e,t,n){return 0===e?"idle":e<t?"coming_soon":e>=t&&e<=n?"live":e>n?"finished":"idle"},Y=M.a.FixedNumber.from(1e10),$=function(e){return{raisingAmountPool:e?new K.a(e[0].toString()):q.c,offeringAmountPool:e?new K.a(e[1].toString()):q.c,limitPerUserInLP:e?new K.a(e[2].toString()):q.c,hasTax:!!e&&e[3],totalAmountPool:e?new K.a(e[4].toString()):q.c,sumTaxesOverflow:e?new K.a(e[5].toString()):q.c}},Q=function(e){var t=e.address,n=e.releaseBlockNumber,c=Object(N.f)(),a=Object(N.c)(e.currency.symbol),r=e.currency===H.a.cake?c:a,i=Object(h.useState)({isInitialized:!1,status:"idle",blocksRemaining:0,secondsUntilStart:0,progress:5,secondsUntilEnd:0,poolBasic:{raisingAmountPool:q.c,offeringAmountPool:q.c,limitPerUserInLP:q.c,taxRate:0,totalAmountPool:q.c,sumTaxesOverflow:q.c},poolUnlimited:{raisingAmountPool:q.c,offeringAmountPool:q.c,limitPerUserInLP:q.c,taxRate:0,totalAmountPool:q.c,sumTaxesOverflow:q.c},thresholdPoints:void 0,startBlockNum:0,endBlockNum:0,numberPoints:0}),o=Object(U.a)(i,2),s=o[0],l=o[1],b=Object(h.useCallback)(function(){var e=Object(L.a)(E.a.mark((function e(c){var a,r,i,o,s,b,u,j,d,x,m,p,O,h,f,g,v,k;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.b)(R,[{address:t,name:"startBlock"},{address:t,name:"endBlock"},{address:t,name:"viewPoolInformation",params:[0]},{address:t,name:"viewPoolInformation",params:[1]},{address:t,name:"viewPoolTaxRateOverflow",params:[1]},{address:t,name:"numberPoints"},{address:t,name:"thresholdPoints"}]);case 2:a=e.sent,r=Object(U.a)(a,7),i=r[0],o=r[1],s=r[2],b=r[3],u=r[4],j=r[5],d=r[6],x=$(s),m=$(b),p=i?i[0].toNumber():0,O=o?o[0].toNumber():0,h=u?M.a.FixedNumber.from(u[0]).divUnsafe(Y).toUnsafeFloat():0,f=W(c,p,O),g=O-p,v=O-c,k=c>p?(c-p)/g*100:(c-n)/(p-n)*100,l((function(e){return Object(B.a)(Object(B.a)({},e),{},{isInitialized:!0,secondsUntilEnd:v*z.h,secondsUntilStart:(p-c)*z.h,poolBasic:Object(B.a)(Object(B.a)({},x),{},{taxRate:0}),poolUnlimited:Object(B.a)(Object(B.a)({},m),{},{taxRate:h}),status:f,progress:k,blocksRemaining:v,startBlockNum:p,endBlockNum:O,thresholdPoints:d&&d[0],numberPoints:j?j[0].toNumber():0})}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t]);return Object(B.a)(Object(B.a)({},s),{},{currencyPriceInUSD:r,fetchIfoData:b})},_=n(16),X=n(72),J=n(61),Z=n(403),ee=n(107),te=function(e,t,n){var c=Object(X.c)().account,a=Object(h.useState)(q.c),r=Object(U.a)(a,2),i=r[0],o=r[1];return Object(h.useEffect)((function(){c&&function(){var n=Object(L.a)(E.a.mark((function n(){var a;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.allowance(c,t);case 3:a=n.sent,o(new K.a(a.toString())),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()()}),[c,t,e,n]),i},ne={isInitialized:!1,poolBasic:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1},poolUnlimited:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1}},ce=function(e){var t=Object(h.useState)(ne),n=Object(U.a)(t,2),c=n[0],a=n[1],r=Object(ee.b)(),i=Object(v.c)(),o=e.address,s=e.currency,l=Object(X.c)().account,b=Object(J.k)(o),u=Object(J.g)(s.address,!1),j=te(u,o),d=Object(h.useCallback)(Object(L.a)(E.a.mark((function e(){var t,n,c,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["viewUserInfo","viewUserOfferingAndRefundingAmountsForPools"].map((function(e){return{address:o,name:e,params:[l,[0,1]]}})),r(Object(Z.i)({account:l})),e.next=4,Object(V.b)(R,t);case 4:n=e.sent,c=Object(U.a)(n,2),i=c[0],s=c[1],a((function(e){return Object(B.a)(Object(B.a)({},e),{},{isInitialized:!0,poolBasic:Object(B.a)(Object(B.a)({},e.poolBasic),{},{amountTokenCommittedInLP:new K.a(i[0][0].toString()),offeringAmountInToken:new K.a(s[0][0][0].toString()),refundingAmountInLP:new K.a(s[0][0][1].toString()),taxAmountInLP:new K.a(s[0][0][2].toString()),hasClaimed:i[1][0]}),poolUnlimited:Object(B.a)(Object(B.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:new K.a(i[0][1].toString()),offeringAmountInToken:new K.a(s[0][1][0].toString()),refundingAmountInLP:new K.a(s[0][1][1].toString()),taxAmountInLP:new K.a(s[0][1][2].toString()),hasClaimed:i[1][1]})})}));case 9:case"end":return e.stop()}}),e)}))),[l,o,r]),x=Object(h.useCallback)((function(){a(Object(B.a)({},ne))}),[]),m=i.minus(c.poolBasic.amountTokenCommittedInLP).minus(c.poolUnlimited.amountTokenCommittedInLP),p={credit:i,creditLeft:K.a.maximum(q.c,m)};return Object(B.a)(Object(B.a)({},c),{},{allowance:j,contract:b,setPendingTx:function(e,t){return a((function(n){return Object(B.a)(Object(B.a)({},n),{},Object(_.a)({},t,Object(B.a)(Object(B.a)({},n[t]),{},{isPendingTx:e})))}))},setIsClaimed:function(e){a((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(_.a)({},e,Object(B.a)(Object(B.a)({},t[e]),{},{hasClaimed:!0})))}))},fetchIfoData:d,resetIfoData:x,ifoCredit:p})},ae=n(149),re=n(7),ie=n(204),oe=n(201),se=n(141),le=n(209),be=n(273),ue=function(e,t){var n=Object(be.a)().callWithGasPrice;return Object(h.useCallback)(function(){var c=Object(L.a)(E.a.mark((function c(a,r,i){var o,s;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n(e,"approve",[t,M.a.constants.MaxUint256]);case 2:return o=c.sent,a(o),c.next=6,o.wait();case 6:(s=c.sent).status?r(s):i(s);case 8:case"end":return c.stop()}}),c)})));return function(e,t,n){return c.apply(this,arguments)}}(),[t,e,n])},je=n(36),de=n(95),xe=n(857),me=function(e){return Object(w.jsxs)(m.wc,Object(B.a)(Object(B.a)({viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(w.jsx)("path",{d:"M10.037 6a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5zM9.287 9.75a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM10.037 12a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5h-7.5z"}),Object(w.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.287 4a2 2 0 012-2h13a2 2 0 012 2v15c0 1.66-1.34 3-3 3h-14c-1.66 0-3-1.34-3-3v-2c0-.55.45-1 1-1h2V4zm0 16h11v-2h-12v1c0 .55.45 1 1 1zm14 0c.55 0 1-.45 1-1V4h-13v12h10c.55 0 1 .45 1 1v2c0 .55.45 1 1 1z"})]}))},pe=q.b,Oe=Object(y.e)(m.cb)(s||(s=Object(k.a)(["\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  text-align: left;\n  gap: 16px;\n\n  "," {\n    flex-direction: row;\n    align-items: initial;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),he=Object(y.e)(m.cb)(l||(l=Object(k.a)(["\n  ",";\n  text-align: left;\n"])),(function(e){return e.isFinished?"filter: grayscale(100%)":""})),fe=Object(y.e)(m.cb)(b||(b=Object(k.a)(["\n  display: inline-flex;\n  vertical-align: top;\n"]))),ge=function(e){var t,n=e.ifo,c=e.publicIfoData,a=Object(O.b)().t,r=null===(t=n.token.symbol)||void 0===t?void 0:t.toLowerCase(),i=n.name,o=c.thresholdPoints?Object(de.a)(c.thresholdPoints,3):pe.div(c.currencyPriceInUSD).toNumber().toFixed(3);return Object(w.jsxs)(Oe,{p:"16px",pb:"32px",children:[Object(w.jsxs)(he,{isFinished:"finished"===c.status,alignItems:"flex-start",flex:1,children:[Object(w.jsx)(m.ib,{src:"/images/achievements/ifo-".concat(r,".svg"),width:56,height:56,mr:"8px"}),Object(w.jsxs)(m.cb,{flexDirection:"column",ml:"8px",children:[Object(w.jsx)(m.Gc,{color:"secondary",fontSize:"12px",children:"".concat(a("Achievement"),":")}),Object(w.jsx)(m.cb,{children:Object(w.jsxs)(m.Gc,{bold:!0,mr:"8px",lineHeight:1.2,children:[a("IFO Shopper: %title%",{title:i}),Object(w.jsxs)(fe,{alignItems:"center",ml:"8px",children:[Object(w.jsx)(m.ac,{color:"textSubtle",width:"16px",mr:"4px"}),Object(w.jsx)(m.Gc,{lineHeight:1.2,color:"textSubtle",children:c.numberPoints})]})]})}),c.currencyPriceInUSD.gt(0)?Object(w.jsx)(m.Gc,{color:"textSubtle",fontSize:"12px",children:a("Commit ~%amount% %symbol% in total to earn!",{amount:o,symbol:n.currency===H.a.cake?"CAKE":"LP"})}):Object(w.jsx)(m.lc,{minHeight:18,width:80}),Object(w.jsxs)(xe.a,{gap:"16px",pt:"24px",pl:"4px",children:[Object(w.jsx)(m.sb,{external:!0,href:n.articleUrl,children:Object(w.jsx)(m.ob,{color:"textSubtle"})}),Object(w.jsx)(m.sb,{external:!0,href:Object(je.e)(n.address,"address"),children:Object(w.jsx)(me,{color:"textSubtle"})}),n.twitterUrl&&Object(w.jsx)(m.sb,{external:!0,href:n.twitterUrl,children:Object(w.jsx)(m.Uc,{color:"textSubtle"})}),n.telegramUrl&&Object(w.jsx)(m.sb,{external:!0,href:n.telegramUrl,children:Object(w.jsx)(m.Fc,{color:"textSubtle"})})]})]})]}),n.description&&Object(w.jsx)(m.cb,{alignItems:"flex-end",flexDirection:"column",flex:1,children:Object(w.jsx)(m.Gc,{fontSize:"14px",lineHeight:1.2,style:{whiteSpace:"pre-line"},children:n.description})})]})},ve=n(272),ke=n(53),ye=n(289),we=n(894),Se=n(139),Ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:259200,c=Object(h.useState)(null),a=Object(U.a)(c,2),r=a[0],i=a[1],o=Object(h.useState)(!1),s=Object(U.a)(o,2),l=s[0],b=s[1],u=Object(h.useState)(Math.floor(Date.now()/1e3)),j=Object(U.a)(u,2),d=j[0],x=j[1];return Object(h.useEffect)((function(){var c=e+n-d,a=t.gt(0)&&c>0,r=setInterval((function(){x((function(e){return e+1}))}),1e3);return a?(i(c),b(!0)):(b(!1),clearInterval(r)),function(){return clearInterval(r)}}),[e,n,i,d,t]),{hasUnstakingFee:l,secondsRemaining:r}},Ce=n(62),Ae=n(413),Pe=n(891),Te=n(98),De=n(274),Fe=n(279),Ee=function(e){return Math.floor(e/86400)},Be=n(1685),Le=n(796),Ue=function(e){var t=e.secondsRemaining,n=Object(O.b)().t,c=Object(Le.a)(t),a=c.days,r=c.hours,i=c.minutes;return Object(w.jsx)(m.Gc,{fontSize:"14px",children:n("%day%d : %hour%h : %minute%m",{day:a,hour:r,minute:i})})},Ge=function(e){var t=e.isTableVariant,n=e.vaultKey,c=Object(O.b)().t,a=Object(X.c)().account,r=Object(v.h)(n),i=r.userData,o=i.lastDepositedTime,s=i.userShares,l=r.fees,b=l.withdrawalFee,u=l.withdrawalFeePeriod,j=b/100||"-",d=u?Ee(u):"-",x=Object(m.nd)(Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Gc,{bold:!0,mb:"4px",children:c("Unstaking fee: %fee%%",{fee:j})}),Object(w.jsx)(m.Gc,{children:c("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:d})})]}),{placement:"bottom-start"}),p=x.targetRef,h=x.tooltip,f=x.tooltipVisible,g=Ie(parseInt(o,10),s,u),k=g.secondsRemaining,y=g.hasUnstakingFee,S=o&&!y&&s.gt(0),I=a&&o&&y,C=u?Object(Be.a)(u):"-";return Object(w.jsxs)(m.cb,{alignItems:t?"flex-start":"center",justifyContent:"space-between",flexDirection:t?"column":"row",children:[f&&h,Object(w.jsxs)(m.Rc,{ref:p,small:!0,textTransform:"lowercase",children:[S?"0":j,"% ",S?c("Unstaking Fee"):I?c("unstaking fee until"):c("unstaking fee if withdrawn within %num%h",{num:C})]}),I&&Object(w.jsx)(Ue,{secondsRemaining:k})]})},Ke=function(e){var t=e.stakingTokenSymbol,n=e.stakeAmount,c=e.vaultKey,a=Object(O.b)().t,r=Object(v.h)(c),i=r.fees,o=i.withdrawalFee,s=i.withdrawalFeePeriod,l=r.userData.lastDepositedTime,b=o/100,u=(parseFloat(n)*(b/100)).toFixed(4),j=s?Ee(s):"-",d=Object(m.nd)(Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Gc,{bold:!0,mb:"4px",children:a("Unstaking fee: %fee%%",{fee:b})}),Object(w.jsx)(m.Gc,{children:a("Only applies within %num% days of staking. Unstaking after %num% days will not include a fee. Timer resets every time you stake new CAKE in the pool.",{num:j})})]}),{placement:"top-start"}),x=d.targetRef,p=d.tooltip,h=d.tooltipVisible,f=l&&function(e){var t=e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:259200),n=Math.floor(Date.now()/1e3);return t-n>0}(parseInt(l,10),s);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(m.cb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[h&&p,Object(w.jsx)(m.Rc,{ref:x,small:!0,children:a("Unstaking Fee")}),Object(w.jsxs)(m.Gc,{fontSize:"14px",children:[n&&f?u:"-"," ",t]})]}),Object(w.jsx)(Ge,{vaultKey:c})]})},ze=Object(y.e)(m.v)(u||(u=Object(k.a)(["\n  flex-grow: 1;\n"]))),Re=Object(y.e)(m.cb)(j||(j=Object(k.a)(["\n  cursor: pointer;\n"]))),He=Object(y.e)(m.Gc)(d||(d=Object(k.a)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]))),Me=function(){var e=Object(v.d)().hasEndBlockOver,t=Object(O.b)().t;return e?Object(w.jsx)(m.q,{maxWidth:"350px",children:Object(w.jsx)(m.Eb,{variant:"warning",mb:"16px",children:Object(w.jsx)(m.Fb,{children:t("The latest credit calculation period has ended. Calculation will resume upon the next period starts.")})})}):null},Ne=function(e){var t=e.pool,n=e.stakingMax,c=e.performanceFee,a=e.isRemovingStake,r=void 0!==a&&a,i=e.onDismiss,o=Object(ee.b)(),s=t.stakingToken,l=t.earningToken,b=t.apr,u=t.rawApr,j=t.stakingTokenPrice,d=t.earningTokenPrice,x=t.vaultKey,p=Object(X.c)().account,f=Object(J.x)(t.vaultKey),g=Object(be.a)().callWithGasPrice,k=Object(v.h)(t.vaultKey),y=k.userData,S=y.lastDepositedTime,I=y.userShares,C=k.pricePerFullShare,A=Object(O.b)().t,P=Object(Se.a)().theme,T=Object(oe.a)(),D=T.toastSuccess,F=T.toastError,B=Object(h.useState)(!1),G=Object(U.a)(B,2),z=G[0],R=G[1],H=Object(h.useState)(""),M=Object(U.a)(H,2),V=M[0],W=M[1],Y=Object(h.useState)(0),$=Object(U.a)(Y,2),Q=$[0],_=$[1],te=Object(h.useState)(!1),ne=Object(U.a)(te,2),ce=ne[0],re=ne[1],ie=Ie(parseInt(S,10),I).hasUnstakingFee,se=Object(N.f)(),le=new K.a(V).times(se),ue=se.gt(0)&&V?Object(de.e)(le.toNumber()):"",je={gasLimit:Te.b[t.vaultKey].gasLimit},xe=Object(Fe.b)(I,C).cakeAsBigNumber,me=Object(Ae.b)({principalInUSD:le.isNaN()?0:le.toNumber(),apr:x?u:b,earningTokenPrice:d,performanceFee:c})[3]*t.earningTokenPrice,pe=Object(de.e)(me,me>1e4?0:2,me>1e4?0:2),Oe=s.address?"/swap?outputCurrency=".concat(s.address):"/swap",he=function(e){if(e>0){var t=n.dividedBy(100).multipliedBy(e),c=Object(de.i)(t,s.decimals,s.decimals);W(c)}else W("");_(e)},fe=function(){var e=Object(L.a)(E.a.mark((function e(t){var n,c,a,r,s,l,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),n=Object(Fe.a)(t,C),c=new K.a(1e12),a=I.minus(n.sharesAsBigNumber),!a.lte(c)){e.next=24;break}return e.prev=6,e.next=9,g(f,"withdrawAll",void 0,je);case 9:return r=e.sent,D("".concat(A("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:r.hash})),e.next=13,r.wait();case 13:(s=e.sent).status&&(D(A("Unstaked!"),Object(w.jsx)(ae.b,{txHash:s.transactionHash,children:A("Your earnings have also been harvested to your wallet")})),R(!1),i(),o(Object(Z.f)({account:p}))),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(6),Object(De.b)(e.t0),F(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),R(!1);case 22:e.next=40;break;case 24:return e.prev=24,e.next=27,g(f,"withdraw",[n.sharesAsBigNumber.toString()],je);case 27:return l=e.sent,D("".concat(A("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:l.hash})),e.next=31,l.wait();case 31:(b=e.sent).status&&(D(A("Unstaked!"),Object(w.jsx)(ae.b,{txHash:b.transactionHash,children:A("Your earnings have also been harvested to your wallet")})),R(!1),i(),o(Object(Z.f)({account:p}))),e.next=40;break;case 35:e.prev=35,e.t1=e.catch(24),Object(De.b)(e.t1),F(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),R(!1);case 40:case"end":return e.stop()}}),e,null,[[6,17],[24,35]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(L.a)(E.a.mark((function e(t){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,g(f,"deposit",[t.toString()],je);case 4:return n=e.sent,D("".concat(A("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:n.hash})),e.next=8,n.wait();case 8:(c=e.sent).status&&(D(A("Staked!"),Object(w.jsx)(ae.b,{txHash:c.transactionHash,children:A("Your funds have been staked in the pool")})),R(!1),i(),o(Object(Z.f)({account:p}))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),Object(De.b)(e.t0),F(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),R(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(L.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(de.h)(new K.a(V),s.decimals),r?fe(t):ge(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce?Object(w.jsx)(Pe.a,{earningTokenPrice:d,stakingTokenPrice:j,apr:x?u:b,linkLabel:A("Get %symbol%",{symbol:s.symbol}),linkHref:Oe,stakingTokenBalance:xe.plus(n),stakingTokenSymbol:s.symbol,earningTokenSymbol:l.symbol,onBack:function(){return re(!1)},initialValue:V,performanceFee:c}):Object(w.jsxs)(m.Ib,{title:A(r?"Unstake":"Stake in Pool"),onDismiss:i,headerBackground:P.colors.gradients.cardHeader,children:[t.vaultKey===Ce.g.IfoPool&&Object(w.jsx)(Me,{}),Object(w.jsxs)(m.cb,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(w.jsxs)(m.Gc,{bold:!0,children:[A(r?"Unstake":"Stake"),":"]}),Object(w.jsxs)(m.cb,{alignItems:"center",minWidth:"70px",children:[Object(w.jsx)(m.ib,{src:"/images/tokens/".concat(s.address,".png"),width:24,height:24,alt:s.symbol}),Object(w.jsx)(m.Gc,{ml:"4px",bold:!0,children:s.symbol})]})]}),Object(w.jsx)(m.l,{value:V,onUserInput:function(e){if(e){var t=new K.a(e).multipliedBy(q.b.pow(s.decimals)),c=Math.floor(t.dividedBy(n).multipliedBy(100).toNumber());_(c>100?100:c)}else _(0);W(e)},currencyValue:se.gt(0)&&"~".concat(ue||0," USD"),decimals:s.decimals}),Object(w.jsx)(m.Gc,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:A("Balance: %balance%",{balance:Object(de.i)(n,s.decimals)})}),Object(w.jsx)(m.mc,{min:0,max:100,value:Q,onValueChanged:he,name:"stake",valueLabel:"".concat(Q,"%"),step:1}),Object(w.jsxs)(m.cb,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(w.jsx)(ze,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return he(25)},children:"25%"}),Object(w.jsx)(ze,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return he(50)},children:"50%"}),Object(w.jsx)(ze,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return he(75)},children:"75%"}),Object(w.jsx)(ze,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return he(100)},children:A("Max")})]}),r&&ie&&Object(w.jsx)(Ke,{vaultKey:x,stakingTokenSymbol:s.symbol,stakeAmount:V}),!r&&Object(w.jsxs)(m.cb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(w.jsxs)(m.Gc,{mr:"8px",color:"textSubtle",children:[A("Annual ROI at current rates"),":"]}),Number.isFinite(me)?Object(w.jsxs)(Re,{alignItems:"center",onClick:function(){re(!0)},children:[Object(w.jsxs)(He,{children:["$",pe]}),Object(w.jsx)(m.hb,{variant:"text",scale:"sm",children:Object(w.jsx)(m.y,{color:"textSubtle",width:"18px"})})]}):Object(w.jsx)(m.lc,{width:60})]}),Object(w.jsx)(m.v,{isLoading:z,endIcon:z?Object(w.jsx)(m.j,{spin:!0,color:"currentColor"}):null,onClick:ve,disabled:!V||0===parseFloat(V),mt:"24px",children:A(z?"Confirming":"Confirm")}),!r&&Object(w.jsx)(m.v,{mt:"8px",as:"a",external:!0,href:Oe,variant:"secondary",children:A("Get %symbol%",{symbol:s.symbol})})]})};!function(e){e.ENABLED="enabled",e.DISABLED="disabled",e.IS_ENABLING="is_enabling"}(x||(x={}));var qe,Ve,We,Ye,$e,Qe,_e,Xe,Je,Ze,et,tt,nt,ct,at,rt,it,ot,st,lt,bt,ut,jt,dt,xt,mt,pt,Ot,ht,ft,gt,vt,kt,yt,wt,St,It,Ct,At,Pt,Tt,Dt,Ft=["userAmount","totalAmount"],Et=function(e){var t=e.userAmount,n=e.totalAmount,c=Object(ke.a)(e,Ft),a=Object(O.b)().t,r=(n.isGreaterThan(0)?t.div(n).times(100).toNumber():0).toLocaleString(void 0,{maximumFractionDigits:5});return Object(w.jsx)(m.Gc,Object(B.a)(Object(B.a)({fontSize:"14px",color:"textSubtle"},c),{},{children:a("%num% of total",{num:"".concat(r,"%")})}))},Bt=function(){return Object(w.jsx)(m.lc,{height:"48px"})},Lt=function(){return Object(w.jsxs)("div",{children:[Object(w.jsxs)(m.cb,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(w.jsx)(m.lc,{variant:"circle",width:"32px",height:"32px",mr:"16px"}),Object(w.jsx)(m.lc,{width:"90%"})]}),Object(w.jsxs)(m.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(w.jsx)(m.lc,{variant:"circle",width:"32px",height:"32px",mr:"16px"}),Object(w.jsx)(m.lc,{width:"90%"})]})]})},Ut=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(m.lc,{mb:"8px"}),Object(w.jsx)(m.lc,{})]})},Gt=["primaryToken","secondaryToken","children"],Kt=["commitToken"],zt=function(e){var t=e.primaryToken,n=e.secondaryToken,c=e.children,a=Object(ke.a)(e,Gt);return Object(w.jsxs)(m.cb,Object(B.a)(Object(B.a)({},a),{},{children:[t?t&&n?Object(w.jsx)(we.b,{variant:"inverted",primaryToken:t,height:32,width:32,secondaryToken:n,mr:"16px"}):Object(w.jsx)(we.a,{token:t,height:32,width:32,mr:"16px"}):Object(w.jsx)(m.u,{width:32,mr:"16px"}),Object(w.jsx)("div",{children:c})]}))},Rt=function(e){var t=e.commitToken,n=Object(ke.a)(e,Kt);return t.equals(ye.a)?Object(w.jsx)(zt,Object(B.a)({primaryToken:H.a.cake,secondaryToken:H.a.wbnb},n)):Object(w.jsx)(zt,Object(B.a)({primaryToken:t},n))},Ht=function(e){return Object(w.jsx)(m.Gc,Object(B.a)({bold:!0,fontSize:"12px",color:"secondary",textTransform:"uppercase"},e))},Mt=function(e){return Object(w.jsx)(m.Gc,Object(B.a)({bold:!0,fontSize:"20px",style:{wordBreak:"break-all"}},e))},Nt=function(e){var t=e.token,n=e.saleAmount,c=e.distributionRatio,a=Object(O.b)().t;return Object(w.jsx)(zt,{primaryToken:t,children:Object(w.jsxs)(m.cb,{flexDirection:"column",children:[Object(w.jsx)(Ht,{children:a("On sale").toUpperCase()}),Object(w.jsx)(Mt,{children:n}),Object(w.jsx)(m.Gc,{fontSize:"14px",color:"textSubtle",children:a("%ratio%% of total sale",{ratio:c})})]})})},qt=Object(y.e)(m.sb)(qe||(qe=Object(k.a)(["\n  display: inline;\n  text-decoration: underline;\n  font-weight: bold;\n  font-size: 14px;\n  white-space: nowrap;\n"]))),Vt=function(e){var t,n=e.poolId,c=e.ifo,a=e.publicIfoData,r=e.walletIfoData,i=e.hasProfile,o=e.isLoading,s=e.onApprove,l=e.enableStatus,b=Object(X.c)().account,u=Object(O.b)().t,j=Object(m.nd)(u("Sorry, you didn\u2019t contribute enough CAKE to meet the minimum threshold. You didn\u2019t buy anything in this sale, but you can still reclaim your CAKE."),{placement:"bottom"}),d=j.targetRef,p=j.tooltip,h=j.tooltipVisible,f=a[n],g=r[n],k=c.currency,y=c.token,S=g.hasClaimed,I=100*c[n].distributionRatio,C=Object(v.e)(),A=Object(v.f)().pool,P=Object(v.c)(),T=(null===A||void 0===A||null===(t=A.userData)||void 0===t?void 0:t.stakingTokenBalance)?new K.a(A.userData.stakingTokenBalance):q.c,D=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:T,performanceFee:C.fees.performanceFeeAsDecimal,pool:A})),F=Object(U.a)(D,1)[0];return Object(w.jsxs)(m.q,{children:[h&&p,function(){return o?Object(w.jsx)(Lt,{}):b?(b&&!i&&(e=Object(w.jsx)(m.Eb,{my:"24px",p:"8px",variant:"warning",children:Object(w.jsxs)(m.q,{children:[Object(w.jsx)(m.Fb,{display:"inline",children:"finished"===a.status?u("Activate PancakeSwap Profile to take part in next IFO\u2018s!"):u("You need an active PancakeSwap Profile to take part in an IFO!")})," ",Object(w.jsxs)(qt,{href:"#ifo-how-to",color:"#D67E0A",display:"inline",children:[u("How does it work?")," \xbb"]})]})})),3===c.version&&0===Object(de.g)(P)&&(e=Object(w.jsx)(m.Eb,{my:"24px",p:"8px",variant:"danger",children:Object(w.jsxs)(m.q,{children:[Object(w.jsx)(m.Fb,{display:"inline",children:u("You don\u2019t have any average CAKE balance available to commit in the IFO CAKE pool.")})," ",Object(w.jsxs)(qt,{display:"inline",fontWeight:700,href:"#ifo-how-to",color:"failure",children:[u("How does it work?")," \xbb"]})]})})),b&&!i?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Nt,{token:y,distributionRatio:I,saleAmount:c[n].saleAmount}),e]}):"coming_soon"===a.status?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(zt,{primaryToken:c.token,children:[Object(w.jsx)(Ht,{children:u("On sale")}),Object(w.jsx)(Mt,{children:c[n].saleAmount})]}),Object(w.jsx)(m.Gc,{fontSize:"14px",color:"textSubtle",pl:"48px",children:u("%ratio%% of total sale",{ratio:I})}),e,l!==x.ENABLED&&b&&Object(w.jsx)(m.v,{width:"100%",mt:"16px",onClick:s,isLoading:l===x.IS_ENABLING,endIcon:l===x.IS_ENABLING?Object(w.jsx)(m.j,{spin:!0,color:"currentColor"}):null,children:u("Enable")})]}):"live"===a.status?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Rt,{commitToken:c.currency,mb:"24px",children:[Object(w.jsx)(Ht,{children:u("Your %symbol% committed",{symbol:k.symbol})}),Object(w.jsx)(Mt,{children:Object(de.g)(g.amountTokenCommittedInLP,k.decimals)}),Object(w.jsx)(Et,{userAmount:g.amountTokenCommittedInLP,totalAmount:f.totalAmountPool})]}),Object(w.jsxs)(zt,{primaryToken:c.token,children:[Object(w.jsx)(Ht,{children:u("%symbol% to receive",{symbol:y.symbol})}),Object(w.jsx)(Mt,{children:Object(de.g)(g.offeringAmountInToken,y.decimals)})]})]}):"finished"===a.status?g.amountTokenCommittedInLP.isEqualTo(0)?Object(w.jsxs)(m.cb,{flexDirection:"column",alignItems:"center",children:[Object(w.jsx)(m.u,{width:80,mb:"16px"}),Object(w.jsx)(m.Gc,{fontWeight:600,children:u("You didn\u2019t participate in this sale!")}),Object(w.jsx)(m.Gc,{textAlign:"center",fontSize:"14px",children:u("To participate in the next IFO, stake some CAKE in the IFO CAKE pool!")}),Object(w.jsxs)(qt,{href:"#ifo-how-to",textAlign:"center",children:[u("How does it work?")," \xbb"]}),Object(w.jsx)(m.v,{mt:"24px",onClick:F,children:u("Stake CAKE in IFO pool")})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Rt,{commitToken:c.currency,mb:"24px",children:[Object(w.jsx)(Ht,{children:u(S?"Your %symbol% RECLAIMED":"Your %symbol% TO RECLAIM",{symbol:k.symbol})}),Object(w.jsxs)(m.cb,{alignItems:"center",children:[Object(w.jsx)(Mt,{children:Object(de.g)(g.refundingAmountInLP,k.decimals)}),S&&Object(w.jsx)(m.K,{color:"success",ml:"8px"})]}),Object(w.jsx)(Et,{userAmount:g.amountTokenCommittedInLP,totalAmount:f.totalAmountPool})]}),Object(w.jsxs)(zt,{primaryToken:c.token,children:[Object(w.jsxs)(Ht,{children:[" ",u(S?"%symbol% received":"%symbol% to receive",{symbol:y.symbol})]}),Object(w.jsxs)(m.cb,{alignItems:"center",children:[Object(w.jsx)(Mt,{children:Object(de.g)(g.offeringAmountInToken,y.decimals)}),!S&&g.offeringAmountInToken.isEqualTo(0)&&Object(w.jsx)("div",{ref:d,style:{display:"flex",marginLeft:"8px"},children:Object(w.jsx)(m.fb,{})}),S&&Object(w.jsx)(m.K,{color:"success",ml:"8px"})]})]}),S&&Object(w.jsx)(m.Eb,{my:"24px",p:"8px",variant:"success",children:Object(w.jsx)(m.Fb,{children:u("You\u2019ve successfully claimed tokens back.")})})]}):null):Object(w.jsx)(Nt,{token:y,distributionRatio:I,saleAmount:c[n].saleAmount});var e}()]})},Wt=n(115),Yt=n(130),$t=n(168),Qt=n(185),_t=function(e){var t=e.currency,n=e.onDismiss,c=Object(O.b)().t;return Object(w.jsx)(m.Ib,{title:c("%symbol% required",{symbol:t.symbol}),onDismiss:n,children:Object(w.jsxs)(m.Kb,{maxWidth:"288px",children:[Object(w.jsx)(m.ib,{src:"/images/tokens/".concat(t.address,".svg"),width:72,height:72,margin:"auto",mb:"24px"}),Object(w.jsx)(m.Gc,{mb:"16px",children:c("You\u2019ll need %symbol% tokens to participate in the IFO!",{symbol:t.symbol})}),Object(w.jsx)(m.Gc,{mb:"24px",children:c("Get %symbol%, or make sure your tokens aren\u2019t staked somewhere else.",{symbol:t.symbol})}),Object(w.jsx)(m.v,{as:m.sb,external:!0,href:"/swap?outputCurrency=".concat(t.address),endIcon:Object(w.jsx)(m.Tb,{color:"white"}),minWidth:"100%",children:c("Get %symbol%",{symbol:t.symbol})})]})})},Xt=n(68),Jt=n(804),Zt=n(783),en=[.1,.25,.5,.75,1],tn=Object(Xt.parseUnits)("10","gwei").toString(),nn=function(){var e=Object(O.b)().t;return Object(w.jsx)(m.q,{maxWidth:"350px",children:Object(w.jsx)(m.Eb,{variant:"warning",mb:"16px",children:Object(w.jsx)(m.Fb,{children:e("If the amount you commit is too small, you may not receive a meaningful amount of IFO tokens.")})})})},cn=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,a=e.walletIfoData,r=e.userCurrencyBalance,i=e.creditLeft,o=e.onDismiss,s=e.onSuccess,l=c[t],b=a[t],u=n.currency,j=l.limitPerUserInLP,d=b.amountTokenCommittedInLP,x=a.contract,p=Object(h.useState)(""),f=Object(U.a)(p,2),g=f[0],v=f[1],k=Object(X.c)().account,y=Object(be.a)().callWithGasPrice,S=Object(J.g)(u.address),I=Object(O.b)().t,C=new K.a(g).times(z.k),A=u===H.a.cake?I("Max. CAKE entry"):I("Max. token entry"),P=Object(Zt.a)({onRequiresApproval:function(){var e=Object(L.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.allowance(k,x.address);case 3:return t=e.sent,n=new K.a(t.toString()),e.abrupt("return",n.gt(0));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return y(S,"approve",[x.address,M.a.constants.MaxUint256],{gasPrice:tn})},onConfirm:function(){return y(x,"depositPool",[C.toString(),t===re.e.poolBasic?0:1],{gasPrice:tn})},onSuccess:function(){var e=Object(L.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.receipt,e.next=3,s(C,n.transactionHash);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),T=P.isApproving,D=P.isApproved,F=P.isConfirmed,B=P.isConfirming,G=P.handleApprove,R=P.handleConfirm,N=Object(h.useMemo)((function(){return i?j.isGreaterThan(0)&&j.isGreaterThan(0)&&j.minus(d).isLessThanOrEqualTo(i)?j.minus(d):i:j.minus(d)}),[i,j,d]),q=Object(h.useMemo)((function(){return N.isLessThanOrEqualTo(r)?N:r}),[N,r]),V=Object(m.nd)(t===re.e.poolBasic?I("For the basic sale, Max CAKE entry is capped by minimum between your average CAKE balance in the IFO CAKE pool, or the pool\u2019s hard cap. To increase the max entry, Stake more CAKE into the IFO CAKE pool"):I("For the unlimited sale, Max CAKE entry is capped by your average CAKE balance in the IFO CAKE pool. To increase the max entry, Stake more CAKE into the IFO CAKE pool"),{}),W=V.targetRef,Y=V.tooltip,$=V.tooltipVisible,Q=C.isGreaterThan(r)||C.isGreaterThan(N);return Object(w.jsx)(m.Ib,{title:I("Contribute %symbol%",{symbol:u.symbol}),onDismiss:o,children:Object(w.jsxs)(m.Kb,{maxWidth:"360px",children:[t===re.e.poolUnlimited&&Object(w.jsx)(nn,{}),Object(w.jsxs)(m.q,{p:"2px",children:[Object(w.jsxs)(m.cb,{justifyContent:"space-between",mb:"16px",children:[$&&Y,Object(w.jsxs)(m.Rc,{ref:W,children:[A,":"]}),Object(w.jsx)(m.Gc,{children:"".concat(Object(de.e)(Object(de.f)(N,u.decimals).toNumber(),3,3)," ").concat(n.currency.symbol)})]}),Object(w.jsxs)(m.cb,{justifyContent:"space-between",mb:"8px",children:[Object(w.jsxs)(m.Gc,{children:[I("Commit"),":"]}),Object(w.jsxs)(m.cb,{flexGrow:1,justifyContent:"flex-end",children:[Object(w.jsx)(m.ib,{src:"CAKE"===n.currency.symbol?"/images/cake.svg":"/images/farms/".concat(u.symbol.split(" ")[0].toLocaleLowerCase(),".svg"),width:24,height:24}),Object(w.jsx)(m.Gc,{ml:"4px",children:u.symbol})]})]}),Object(w.jsx)(m.l,{value:g,currencyValue:"".concat(c.currencyPriceInUSD.times(g||0).toFixed(2)," USD"),onUserInput:v,isWarning:Q,decimals:u.decimals,onBlur:function(){Q&&v(Object(de.f)(q).toString())},mb:"8px"}),Q&&Object(w.jsx)(m.Gc,{color:C.isGreaterThan(r)?"failure":"warning",textAlign:"right",fontSize:"12px",mb:"8px",children:C.isGreaterThan(r)?I("Insufficient Balance"):I("Exceeded max CAKE entry")}),Object(w.jsx)(m.Gc,{color:"textSubtle",textAlign:"right",fontSize:"12px",mb:"16px",children:I("Balance: %balance%",{balance:Object(de.f)(r,u.decimals).toString()})}),Object(w.jsx)(m.cb,{justifyContent:"space-between",mb:"16px",children:en.map((function(e,t){return Object(w.jsxs)(m.v,{scale:"xs",variant:"tertiary",onClick:function(){return v(Object(de.f)(q.times(e)).toString())},mr:t<en.length-1?"8px":0,children:[100*e,"%"]},e)}))}),Object(w.jsxs)(m.Gc,{color:"textSubtle",fontSize:"12px",mb:"24px",children:[I("If you don\u2019t commit enough CAKE, you may not receive any IFO tokens at all and will only receive a full refund of your CAKE."),Object(w.jsx)(m.sb,{fontSize:"12px",display:"inline",href:"https://docs.pancakeswap.finance/products/ifo-initial-farm-offering",external:!0,children:I("Read more")})]}),Object(w.jsx)(Jt.b,{isApproveDisabled:F||B||D,isApproving:T,isConfirmDisabled:!D||F||C.isNaN()||C.eq(0)||Q,isConfirming:B,onApprove:G,onConfirm:R})]})]})})},an=function(e){var t,n,c,a=e.poolId,r=e.ifo,i=e.publicIfoData,o=e.walletIfoData,s=i[a],l=o[a],b=l.isPendingTx,u=l.amountTokenCommittedInLP,j=s.limitPerUserInLP,d=Object(O.b)().t,x=Object(oe.a)().toastSuccess,p=Object(se.a)().currentBlock,h=Object(Qt.a)(r.currency.address).balance,f=function(){var e=Object(L.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.fetchIfoData(p),o.fetchIfoData()]);case 2:x(d("Success!"),Object(w.jsx)(ae.b,{txHash:n,children:d("You have contributed %amount% CAKE to this IFO!",{amount:Object(de.g)(t)})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=Object(m.ld)(Object(w.jsx)(cn,{poolId:a,creditLeft:null===(t=o.ifoCredit)||void 0===t?void 0:t.creditLeft,ifo:r,publicIfoData:i,walletIfoData:o,onSuccess:f,userCurrencyBalance:h}),!1),v=Object(U.a)(g,1)[0],k=Object(m.ld)(Object(w.jsx)(_t,{currency:r.currency}),!1),y=Object(U.a)(k,1)[0],S=(null===(n=o.ifoCredit)||void 0===n?void 0:n.creditLeft)&&(null===(c=o.ifoCredit)||void 0===c?void 0:c.creditLeft.isLessThanOrEqualTo(0))||j.isGreaterThan(0)&&u.isGreaterThanOrEqualTo(j),I=b||S||"live"!==i.status;return Object(w.jsx)(m.v,{onClick:h.isEqualTo(0)?y:v,width:"100%",disabled:I,children:S&&"live"===i.status?d("Max. Committed"):d("Commit CAKE")})},rn=function(e){var t=e.poolId,n=e.ifoVersion,c=e.walletIfoData,a=c[t],r=Object(O.b)().t,i=Object(oe.a)(),o=i.toastError,s=i.toastSuccess,l=function(e){return c.setPendingTx(e,t)},b=function(){var e=Object(L.a)(E.a.mark((function e(){var a,i,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(!0),1!==n){e.next=8;break}return e.next=5,c.contract.harvest();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,c.contract.harvestPool(t===re.e.poolBasic?0:1);case 10:e.t0=e.sent;case 11:return a=e.t0,s("".concat(r("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:a.hash})),e.next=15,a.wait();case 15:i=e.sent,b=i.transactionHash,c.setIsClaimed(t),s(r("Success!"),Object(w.jsx)(ae.b,{txHash:b,children:r("You have successfully claimed your rewards.")})),e.next=25;break;case 21:e.prev=21,e.t1=e.catch(0),o(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),Object(De.b)(e.t1);case 25:return e.prev=25,l(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,21,25,28]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(m.v,{onClick:b,disabled:a.isPendingTx,width:"100%",isLoading:a.isPendingTx,endIcon:a.isPendingTx?Object(w.jsx)(m.j,{spin:!0,color:"currentColor"}):null,children:r("Claim")})},on=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,a=e.walletIfoData,r=e.hasProfile,i=e.isLoading,o=Object(O.b)().t,s=Object(X.c)().account,l=a[t];return i?Object(w.jsx)(Bt,{}):s?r?Object(w.jsxs)(w.Fragment,{children:[("live"===c.status||"coming_soon"===c.status)&&Object(w.jsx)(an,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a}),"finished"===c.status&&!l.hasClaimed&&(l.offeringAmountInToken.isGreaterThan(0)||l.refundingAmountInLP.isGreaterThan(0))&&Object(w.jsx)(rn,{poolId:t,ifoVersion:n.version,walletIfoData:a})]}):Object(w.jsx)(m.v,{as:Wt.a,to:"".concat(Yt.a,"/profile/").concat(s.toLowerCase()),width:"100%",children:o("Activate your Profile")}):Object(w.jsx)($t.a,{width:"100%"})},sn=n(401),ln=n(79),bn=function(e){var t=e.label,n=e.value;return Object(w.jsxs)(m.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(w.jsx)(m.Gc,{small:!0,color:"textSubtle",children:t}),n?Object(w.jsx)(m.Gc,{small:!0,textAlign:"right",children:n}):Object(w.jsx)(m.lc,{height:21,width:80})]})},un=function(e){var t=e.maxToken,n=e.ifo,c=e.poolId,a=n.currency===H.a.cake,r=3===n.version,i=Object(O.b)().t,o=c===re.e.poolBasic?i("For the basic sale, Max CAKE entry is capped by minimum between your average CAKE balance in the IFO CAKE pool, or the pool\u2019s hard cap. To increase the max entry, Stake more CAKE into the IFO CAKE pool"):i("For the unlimited sale, Max CAKE entry is capped by your average CAKE balance in the IFO CAKE pool. To increase the max entry, Stake more CAKE into the IFO CAKE pool"),s=Object(m.nd)(o,{placement:"bottom-start"}),l=s.targetRef,b=s.tooltip,u=s.tooltipVisible,j=i(a?"Max. CAKE entry":"Max. token entry"),d=Object(sn.a)(n.currency),x=Object(ln.d)(d,t,n.currency.decimals);return Object(w.jsxs)(w.Fragment,{children:[r&&u&&b,Object(w.jsx)(bn,{label:r?Object(w.jsx)(m.Rc,{small:!0,color:"textSubtle",ref:l,children:j}):j,value:Object(w.jsx)(m.Gc,{small:!0,textAlign:"right",color:t>0?"text":"failure",children:"".concat(Object(de.e)(t,3,3)," ").concat(a?"":n.currency.symbol," "," ~($".concat(x.toFixed(0),")"))})})]})},jn=function(e){var t,n,c=e.poolId,a=e.ifo,r=e.publicIfoData,i=e.walletIfoData,o=Object(O.b)().t,s=r.status,l=r.currencyPriceInUSD,b=r[c],u=i[c],j=(null===(t=i.ifoCredit)||void 0===t?void 0:t.creditLeft)?i.ifoCredit.creditLeft.gt(b.limitPerUserInLP.minus(u.amountTokenCommittedInLP))?b.limitPerUserInLP.minus(u.amountTokenCommittedInLP):i.ifoCredit.creditLeft:null;j=c===re.e.poolUnlimited?null===(n=i.ifoCredit)||void 0===n?void 0:n.creditLeft:j;var d=3===a.version&&a.isActive?j?Object(de.g)(j,a.currency.decimals):0:Object(de.g)(b.limitPerUserInLP,a.currency.decimals),x="".concat(b.taxRate,"%"),p=b.totalAmountPool.div(b.raisingAmountPool).times(100).toFixed(2),h=Object(de.g)(b.totalAmountPool,a.currency.decimals),f=l.times(h),g="~$".concat(Object(de.e)(f.toNumber(),0,0)," (").concat(p,"%)"),v=b.totalAmountPool.times(b.taxRate).times(.01).plus(b.raisingAmountPool).div(b.offeringAmountPool).div(b.raisingAmountPool.div(b.offeringAmountPool)),k="~$".concat(Object(de.e)(v.times(a.tokenOfferingPrice).toNumber(),0,2)),y=Object(w.jsx)(un,{poolId:c,ifo:a,maxToken:d});return Object(w.jsx)(m.q,{paddingTop:"24px",children:"coming_soon"===s?Object(w.jsxs)(w.Fragment,{children:[y,Object(w.jsx)(bn,{label:o("Funds to raise:"),value:a[c].raiseAmount}),"$0"!==a[c].cakeToBurn&&Object(w.jsx)(bn,{label:o("CAKE to burn:"),value:a[c].cakeToBurn}),Object(w.jsx)(bn,{label:o("Price per %symbol%:",{symbol:a.token.symbol}),value:"$".concat(a.tokenOfferingPrice)})]}):"live"===s?Object(w.jsxs)(w.Fragment,{children:[y,c===re.e.poolBasic&&Object(w.jsx)(bn,{label:o("Price per %symbol%:",{symbol:a.token.symbol}),value:"$".concat(a.tokenOfferingPrice)}),c===re.e.poolUnlimited&&Object(w.jsx)(bn,{label:o("Additional fee:"),value:x}),c===re.e.poolUnlimited&&Object(w.jsx)(bn,{label:o("Price per %symbol% with fee:",{symbol:a.token.symbol}),value:k}),Object(w.jsx)(bn,{label:o("Total committed:"),value:l.gt(0)?g:null})]}):"finished"===s?Object(w.jsxs)(w.Fragment,{children:[(c===re.e.poolBasic||a.isActive)&&y,c===re.e.poolUnlimited&&Object(w.jsx)(bn,{label:o("Additional fee:"),value:x}),Object(w.jsx)(bn,{label:o("Total committed:"),value:l.gt(0)?g:null}),Object(w.jsx)(bn,{label:o("Funds to raise:"),value:a[c].raiseAmount}),"$0"!==a[c].cakeToBurn&&Object(w.jsx)(bn,{label:o("CAKE to burn:"),value:a[c].cakeToBurn}),a.version>1&&Object(w.jsx)(bn,{label:o("Price per %symbol%:",{symbol:a.token.symbol}),value:"$".concat(a.tokenOfferingPrice?a.tokenOfferingPrice:"?")}),a.version>1&&c===re.e.poolUnlimited&&Object(w.jsx)(bn,{label:o("Price per %symbol% with fee:",{symbol:a.token.symbol}),value:k})]}):Object(w.jsx)(Ut,{})})},dn=Object(y.e)(m.A)(Ve||(Ve=Object(k.a)(["\n  background: none;\n  max-width: 368px;\n  width: 100%;\n  margin: 0 auto;\n  height: fit-content;\n"]))),xn=function(e){var t=e.poolId,n=e.ifo,c=e.publicIfoData,a=e.walletIfoData,r=e.onApprove,i=e.enableStatus,o=function(e,t){switch(t){case re.e.poolBasic:return{title:e("Basic Sale"),variant:"blue",tooltip:e("Every person can only commit a limited amount, but may expect a higher return per token committed.")};case re.e.poolUnlimited:return{title:e("Unlimited Sale"),variant:"violet",tooltip:e("No limits on the amount you can commit. Additional fee applies when claiming.")};default:return{title:"",variant:"blue",tooltip:""}}}(Object(O.b)().t,t),s=Object(ve.d)(),l=s.hasProfile,b=s.isLoading,u=Object(m.nd)(o.tooltip,{placement:"bottom"}),j=u.targetRef,d=u.tooltip,x=u.tooltipVisible,p=b||"idle"===c.status;return Object(w.jsxs)(w.Fragment,{children:[x&&d,Object(w.jsxs)(dn,{children:[Object(w.jsx)(m.D,{p:"16px 24px",variant:o.variant,children:Object(w.jsxs)(m.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(w.jsx)(m.Gc,{bold:!0,fontSize:"20px",lineHeight:1,children:o.title}),Object(w.jsx)("div",{ref:j,children:Object(w.jsx)(m.fb,{})})]})}),Object(w.jsxs)(m.B,{p:"12px",children:[Object(w.jsx)(Vt,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a,hasProfile:l,isLoading:p,onApprove:r,enableStatus:i}),Object(w.jsx)(m.q,{mt:"24px",children:Object(w.jsx)(on,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a,hasProfile:l,isLoading:p})}),Object(w.jsx)(jn,{poolId:t,ifo:n,publicIfoData:c,walletIfoData:a})]})]})]})},mn=Object(y.e)(m.eb)(We||(We=Object(k.a)(["\n  background: -webkit-linear-gradient(#ffd800, #eb8c00);\n  background-clip: text;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);\n"]))),pn=Object(y.e)(m.cb)(Ye||(Ye=Object(k.a)(["\n  gap: ",";\n"])),(function(e){return e.gap})),On=function(e){var t=e.publicIfoData,n=Object(O.b)().t,c=t.status,a=t.secondsUntilStart,r=Object(Le.a)(a);return Object(w.jsx)(m.cb,{justifyContent:"center",position:"relative",children:"idle"===c?Object(w.jsx)(m.lc,{animation:"pulse",variant:"rect",width:"100%",height:"48px"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(pn,{gap:"8px",alignItems:"center",children:[Object(w.jsx)(m.eb,{as:"h3",scale:"lg",color:"secondary",children:n("Start in")}),Object(w.jsxs)(pn,{gap:"4px",alignItems:"baseline",children:[r.days?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.eb,{scale:"lg",color:"secondary",children:r.days}),Object(w.jsx)(m.Gc,{color:"secondary",children:n("d")})]}):null,r.days||r.hours?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.eb,{color:"secondary",scale:"lg",children:r.hours}),Object(w.jsx)(m.Gc,{color:"secondary",children:n("h")})]}):null,Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.eb,{color:"secondary",scale:"lg",children:r.minutes}),Object(w.jsx)(m.Gc,{color:"secondary",children:n("m")})]})]})]})})})},hn=Object(y.e)(m.eb)($e||($e=Object(k.a)(["\n  color: white;\n  font-size: 20px;\n  font-weight: 600;\n  line-height: 1.1;\n\n  "," {\n    font-size: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),fn=Object(y.e)(hn)(Qe||(Qe=Object(k.a)(["\n  color: white;\n  "," {\n    background: -webkit-linear-gradient(#ffd800, #eb8c00);\n    background-clip: text;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    -webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),gn=function(e){var t=e.publicIfoData,n=Object(O.b)().t,c=t.status,a=t.secondsUntilEnd,r=Object(Le.a)(a);return Object(w.jsx)(m.cb,{justifyContent:"center",position:"relative",children:"idle"===c?Object(w.jsx)(m.lc,{animation:"pulse",variant:"rect",width:"100%",height:"48px"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Xb,{width:"42px",mr:"8px"}),Object(w.jsxs)(pn,{gap:"8px",alignItems:"center",children:[Object(w.jsx)(fn,{as:"h3",children:"".concat(n("Live Now").toUpperCase(),"!")}),Object(w.jsx)(hn,{as:"h3",scale:"lg",color:"white",children:n("Ends in")}),Object(w.jsxs)(pn,{gap:"4px",alignItems:"baseline",children:[r.days?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(mn,{scale:"lg",children:r.days}),Object(w.jsx)(m.Gc,{color:"white",children:n("d")})]}):null,r.days||r.hours?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(mn,{scale:"lg",children:r.hours}),Object(w.jsx)(m.Gc,{color:"white",children:n("h")})]}):null,Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(mn,{scale:"lg",children:r.minutes}),Object(w.jsx)(m.Gc,{color:"white",children:n("m")})]})]})]})]})})},vn=Object(y.e)(m.q)(_e||(_e=Object(k.a)(["\n  width: 150%;\n  position: absolute;\n  top: -150%;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n\n  "," {\n    border-radius: 50%;\n  }\n\n  ","\n"])),(function(e){return e.theme.mediaQueries.md}),(function(e){var t=e.$status,n=e.theme;switch(t){case"coming_soon":return"\n          background: ".concat(n.colors.tertiary,";\n        ");case"live":return"\n          background: linear-gradient(#8051D6 100%, #492286 100%);\n        ";case"finished":return"\n          background: ".concat(n.colors.input,";\n        ");default:return""}})),kn=function(e){var t,n=e.publicIfoData,c=n.status;return"finished"===c?t=Object(w.jsx)(yn,{}):"live"===c?t=Object(w.jsx)(Sn,{publicIfoData:n}):"coming_soon"===c&&(t=Object(w.jsx)(wn,{publicIfoData:n})),"idle"===c?null:Object(w.jsxs)(w.Fragment,{children:["live"===c&&Object(w.jsx)(m.cc,{variant:"flat",children:Object(w.jsx)(m.dc,{$useDark:!0,$background:"linear-gradient(273deg, #ffd800 -2.87%, #eb8c00 113.73%)",style:{width:"".concat(Math.min(Math.max(n.progress,0),100),"%")}})}),Object(w.jsx)(m.cb,{justifyContent:"center",alignItems:"center",flexDirection:"column",minHeight:["48px","48px","48px","75px"],position:"relative",overflow:"hidden",children:t})]})},yn=function(){var e=Object(O.b)().t;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(vn,{$status:"finished"}),Object(w.jsx)(m.q,{position:"relative",children:Object(w.jsx)(m.eb,{as:"h3",scale:"lg",color:"textSubtle",children:e("Sale Finished!")})})]})},wn=function(e){var t=e.publicIfoData;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(vn,{$status:"coming_soon"}),Object(w.jsx)(m.q,{position:"relative",children:Object(w.jsx)(m.eb,{as:"h3",scale:"lg",color:"secondary",children:Object(w.jsx)(On,{publicIfoData:t})})})]})},Sn=function(e){var t=e.publicIfoData;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(vn,{$status:"live"}),Object(w.jsx)(m.q,{position:"relative",children:Object(w.jsx)(gn,{publicIfoData:t})})]})},In=Object(y.e)(m.A)(Xe||(Xe=Object(k.a)(["\n  width: 100%;\n  margin: auto;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n\n  ","\n\n  > div {\n    background: ",";\n  }\n\n  "," {\n    border-top-left-radius: 32px;\n    border-top-right-radius: 32px;\n\n    > div {\n      border-top-left-radius: 32px;\n      border-top-right-radius: 32px;\n    }\n  }\n"])),(function(e){return e.$isCurrent&&"\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  > div {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n  }\n  "}),(function(e){var t=e.theme;return e.$isCurrent?t.colors.gradients.bubblegum:t.colors.dropdown}),(function(e){return e.theme.mediaQueries.sm})),Cn=Object(y.e)(m.D)(Je||(Je=Object(k.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n  background-color: ",";\n  background-image: ",";\n  "," {\n    height: 112px;\n  }\n"])),(function(e){return e.$isCurrent?"64px":"112px"}),(function(e){return e.theme.colors.dropdown}),(function(e){var t=e.ifoId;return"url('/images/ifos/".concat(t,"-bg.svg'), url('/images/ifos/").concat(t,"-bg.png')")}),(function(e){return e.theme.mediaQueries.md})),An=y.e.div(Ze||(Ze=Object(k.a)(["\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: 1fr;\n  "," {\n    grid-template-columns: ",";\n    justify-items: ",";\n  }\n"])),(function(e){return e.theme.mediaQueries.xxl}),(function(e){return e.singleCard?"1fr":"1fr 1fr"}),(function(e){return e.singleCard?"center":"unset"})),Pn=Object(y.e)(m.B)(et||(et=Object(k.a)(["\n  padding: 24px 16px;\n  "," {\n    padding: 24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Tn=Object(y.e)(m.C)(tt||(tt=Object(k.a)(["\n  padding: 0;\n  background: ",";\n  text-align: center;\n"])),(function(e){return e.theme.colors.backgroundAlt})),Dn=y.e.div(nt||(nt=Object(k.a)(["\n  position: absolute;\n  left: -24px;\n  z-index: 1;\n  top: 33px;\n\n  > img {\n    width: 78px;\n  }\n\n  "," {\n    top: ",";\n  }\n  "," {\n    left: auto;\n    top: ",";\n    right: ",";\n\n    > img {\n      width: 123px;\n    }\n  }\n  "," {\n    right: ",";\n  }\n  "," {\n    right: 90px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.$isLive?"46px":"33px"}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.$isLive?"61px":"48px"}),(function(e){return e.$isCurrent?"17px":"90px"}),(function(e){return e.theme.mediaQueries.lg}),(function(e){return e.$isCurrent?"67px":"90px"}),(function(e){return e.theme.mediaQueries.xxl})),Fn=function(e){var t=e.isLive,n=e.isCurrent,c=Object(m.kd)(),a=c.isXs,r=c.isSm,i=c.isMd,o=a||r||i;return o&&t?null:Object(w.jsx)(Dn,{$isLive:t,$isCurrent:n,children:Object(w.jsx)("img",{src:"/images/ifos/assets/bunnypop-".concat(o?"left":"right",".png"),width:123,height:162,alt:"bunny"})})},En=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,a=Object(h.useState)(!1),r=Object(U.a)(a,2),i=r[0],o=r[1],s=Object(O.b)().t,l=Object(m.kd)().isMobile,b="live"===n.status||"coming_soon"===n.status;return Object(w.jsxs)(w.Fragment,{children:[l&&Object(w.jsxs)(m.q,{className:"sticky-header",position:"sticky",bottom:"48px",width:"100%",zIndex:6,maxWidth:["400px","400px","400px","100%"],children:[Object(w.jsx)(Cn,{$isCurrent:!0,ifoId:t.id}),Object(w.jsx)(kn,{publicIfoData:n}),b&&Object(w.jsx)(Fn,{isLive:"live"===n.status})]}),Object(w.jsxs)(m.q,{position:"relative",width:"100%",maxWidth:["400px","400px","400px","100%"],children:[!l&&b&&Object(w.jsx)(Fn,{isCurrent:!0,isLive:"live"===n.status}),Object(w.jsxs)(In,{$isCurrent:!0,children:[!l&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Cn,{$isCurrent:!0,ifoId:t.id}),Object(w.jsx)(kn,{publicIfoData:n})]}),Object(w.jsx)(Ln,{ifo:t,publicIfoData:n,walletIfoData:c}),Object(w.jsxs)(Tn,{children:[Object(w.jsx)(m.ab,{expanded:i,onClick:function(){return o(!i)},children:s(i?"Hide":"Details")}),i&&Object(w.jsx)(ge,{ifo:t,publicIfoData:n})]})]})]})]})},Bn=y.e.div(ct||(ct=Object(k.a)(["\n  display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),Ln=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,a=Object(se.a)().currentBlock,r=n.fetchIfoData,i=n.isInitialized,o=n.secondsUntilEnd,s=c.contract,l=c.fetchIfoData,b=c.resetIfoData,u=c.isInitialized,j=Object(h.useState)(x.DISABLED),d=Object(U.a)(j,2),m=d[0],p=d[1],f=Object(O.b)().t,g=Object(X.c)().account,v=Object(J.g)(t.currency.address),k=("finished"!==n.status||"finished"===n.status&&o>=-120)&&t.isActive,y=ue(v,s.address),S=Object(oe.a)(),I=S.toastSuccess,C=S.toastError,A=Object(ie.a)(),P=Object(le.a)();Object(h.useEffect)((function(){!k&&i||r(a)}),[k,i,r,a]),Object(h.useEffect)((function(){!P||!k&&u||g&&l(),!g&&u&&b()}),[P,g,k,u,l,b,A]);var T=function(){var e=Object(L.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(x.IS_ENABLING),e.next=4,y((function(e){I("".concat(f("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:e.hash}))}),(function(e){I(f("Successfully Enabled!"),Object(w.jsx)(ae.b,{txHash:e.transactionHash,children:f("You can now participate in the %symbol% IFO.",{symbol:t.token.symbol})}))}),(function(e){C(f("Error"),Object(w.jsx)(ae.b,{txHash:e.transactionHash,children:f("Please try again. Confirm the transaction and make sure you are paying enough gas!")}))}));case 4:p(x.ENABLED),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p(x.DISABLED);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(h.useEffect)((function(){g&&function(){var e=Object(L.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.allowance(g,s.address);case 3:t=e.sent,n=new K.a(t.toString()),p(n.lte(0)?x.DISABLED:x.ENABLED),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p(x.DISABLED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[g,v,s,p]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Pn,{children:Object(w.jsxs)(An,{singleCard:!n.poolBasic||!c.poolBasic,children:[n.poolBasic&&c.poolBasic&&Object(w.jsx)(xn,{poolId:re.e.poolBasic,ifo:t,publicIfoData:n,walletIfoData:c,onApprove:T,enableStatus:m}),Object(w.jsx)(xn,{poolId:re.e.poolUnlimited,ifo:t,publicIfoData:n,walletIfoData:c,onApprove:T,enableStatus:m})]})})})},Un=function(e){var t=e.ifo,n=e.publicIfoData,c=e.walletIfoData,a=Object(h.useState)(!1),r=Object(U.a)(a,2),i=r[0],o=r[1],s=Object(m.kd)().isDesktop;return Object(w.jsxs)(m.q,{position:"relative",children:[i&&s&&Object(w.jsx)(Fn,{isLive:!1}),Object(w.jsxs)(m.q,{as:In,borderRadius:"32px",children:[Object(w.jsxs)(m.q,{position:"relative",children:[Object(w.jsx)(Cn,{ifoId:t.id,children:Object(w.jsx)(m.Z,{expanded:i,onClick:function(){return o((function(e){return!e}))}})}),i&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(kn,{publicIfoData:n})})]}),Object(w.jsxs)(Bn,{isVisible:i,children:[Object(w.jsx)(Ln,{ifo:t,publicIfoData:n,walletIfoData:c}),Object(w.jsx)(ge,{ifo:t,publicIfoData:n})]})]})]})},Gn=Object(y.e)(m.q)(at||(at=Object(k.a)(["\n  > div:not(.sticky-header) {\n    margin-bottom: 32px;\n  }\n"]))),Kn=Object(y.e)(Gn)(rt||(rt=Object(k.a)(["\n  column-gap: 32px;\n  display: grid;\n  grid-template-columns: 1fr;\n\n  "," {\n    grid-template-columns: minmax(300px, 1fr) minmax(462px, 2fr);\n  }\n\n  > div {\n    margin: 0 auto;\n    align-items: flex-start;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),zn=Gn,Rn=n(771),Hn=n(820),Mn=n(19),Nn=Object(y.e)(m.cb)(it||(it=Object(k.a)(["\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.5;\n  }\n"]))),qn=function(e){var t,n,c=e.pool,a=e.stakedBalance,r=e.performanceFee,i=void 0===r?0:r,o=Object(O.b)().t,s=c.stakingToken,l=c.earningToken,b=c.isFinished,u=c.apr,j=c.rawApr,d=c.earningTokenPrice,x=c.stakingTokenPrice,p=c.userData,h=c.vaultKey,f=(null===p||void 0===p?void 0:p.stakingTokenBalance)?new K.a(p.stakingTokenBalance):q.c,g=o(h?"APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY.":"This pool\u2019s rewards aren\u2019t compounded automatically, so we show APR"),v=Object(m.nd)(g,{placement:"bottom-start"}),k=v.targetRef,y=v.tooltip,S=v.tooltipVisible,I=s.address?"/swap?outputCurrency=".concat(s.address):"/swap",C=Object(m.ld)(Object(w.jsx)(Pe.a,{earningTokenPrice:d,stakingTokenPrice:x,apr:h?j:u,linkLabel:o("Get %symbol%",{symbol:s.symbol}),linkHref:I,stakingTokenBalance:a.plus(f),stakingTokenSymbol:s.symbol,earningTokenSymbol:l.symbol,autoCompoundFrequency:null!==(t=null===(n=Te.b[h])||void 0===n?void 0:n.autoCompoundFrequency)&&void 0!==t?t:0,performanceFee:i})),A=Object(U.a)(C,1)[0];return Object(w.jsxs)(m.cb,{alignItems:"center",justifyContent:"space-between",children:[S&&y,Object(w.jsx)(m.Rc,{ref:k,children:"".concat(o(h?"APY":"APR"),":")}),u||b?Object(w.jsxs)(Nn,{alignItems:"center",onClick:A,children:[Object(w.jsx)(Rn.a,{fontSize:"16px",isDisabled:b,value:b?0:u,decimals:2,unit:"%",onClick:A}),!b&&Object(w.jsx)(m.hb,{variant:"text",scale:"sm",children:Object(w.jsx)(m.y,{color:"textSubtle",width:"18px"})})]}):Object(w.jsx)(m.lc,{width:"82px",height:"32px"})]})},Vn=Object(y.e)(m.A)(ot||(ot=Object(k.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  width: 100%;\n  min-width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n  color: ",";\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){return e.theme.mediaQueries.sm})),Wn=n(31),Yn=n(306),$n=Object(y.e)(m.cb)(st||(st=Object(k.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),Qn=function(e){var t,n=e.pool,c=e.account,a=Object(O.b)().t,r=Object(se.a)().currentBlock,i=n.stakingToken,o=n.earningToken,s=n.totalStaked,l=n.startBlock,b=n.endBlock,u=n.stakingLimit,j=n.contractAddress,d=n.sousId,x=n.vaultKey,p=Object(v.h)(x),h=p.totalCakeInVault,f=p.fees.performanceFee,g=Object(v.i)(),k=Object.values(g).reduce((function(e,t){return e.plus(t.totalCakeInVault)}),q.c),y=o.address||"",S=Object(Wn.a)(j),I=Object(Wn.A)(x),C=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),A=0===d,P=Object(Fe.e)(n,r),T=P.shouldShowBlockCountdown,D=P.blocksUntilStart,F=P.blocksRemaining,E=P.hasPoolStarted,B=P.blocksToDisplay,L=Object(m.nd)(a("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),U=L.targetRef,G=L.tooltip,R=L.tooltipVisible,H=Object(m.nd)(a("Total amount of %symbol% staked in this pool",{symbol:i.symbol}),{placement:"bottom"}),M=H.targetRef,N=H.tooltip,V=H.tooltipVisible;return Object(w.jsxs)($n,{flexDirection:"column",children:[Object(w.jsxs)(m.cb,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(w.jsxs)(m.Gc,{small:!0,children:[a("Total staked"),":"]}),Object(w.jsxs)(m.cb,{alignItems:"flex-start",children:[s&&s.gte(0)?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Rn.a,{small:!0,value:function(){if(x)return Object(de.g)(h,i.decimals);if(A){var e=new K.a(s).minus(k);return Object(de.g)(e,i.decimals)}return Object(de.g)(s,i.decimals)}(),decimals:0,unit:" ".concat(i.symbol)}),Object(w.jsx)("span",{ref:M,children:Object(w.jsx)(m.fb,{color:"textSubtle",width:"20px",ml:"6px",mt:"4px"})})]}):Object(w.jsx)(m.lc,{width:"90px",height:"21px"}),V&&N]})]}),u&&u.gt(0)&&Object(w.jsxs)(m.cb,{mb:"2px",justifyContent:"space-between",children:[Object(w.jsxs)(m.Gc,{small:!0,children:[a("Max. stake per user"),":"]}),Object(w.jsx)(m.Gc,{small:!0,children:"".concat(Object(de.i)(u,i.decimals,0)," ").concat(i.symbol)})]}),T&&Object(w.jsxs)(m.cb,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(w.jsxs)(m.Gc,{small:!0,children:[a(E?"Ends in":"Starts in"),":"]}),F||D?Object(w.jsx)(m.cb,{alignItems:"center",children:Object(w.jsxs)(m.sb,{external:!0,href:Object(je.e)(E?b:l,"countdown"),children:[Object(w.jsx)(Rn.a,{small:!0,value:B,decimals:0,color:"primary"}),Object(w.jsx)(m.Gc,{small:!0,ml:"4px",color:"primary",textTransform:"lowercase",children:a("Blocks")}),Object(w.jsx)(m.Nc,{ml:"4px",color:"primary"})]})}):Object(w.jsx)(m.lc,{width:"54px",height:"21px"})]}),x&&Object(w.jsxs)(m.cb,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[R&&G,Object(w.jsx)(m.Rc,{ref:U,small:!0,children:a("Performance Fee")}),Object(w.jsx)(m.cb,{alignItems:"center",children:f?Object(w.jsxs)(m.Gc,{ml:"4px",small:!0,children:[f/100,"%"]}):Object(w.jsx)(m.lc,{width:"90px",height:"21px"})})]}),Object(w.jsx)(m.cb,{mb:"2px",justifyContent:"flex-end",children:Object(w.jsx)(m.tb,{href:"/info/token/".concat(o.address),bold:!1,small:!0,children:a("See Token Info")})}),Object(w.jsx)(m.cb,{mb:"2px",justifyContent:"flex-end",children:Object(w.jsx)(m.tb,{href:o.projectLink,bold:!1,small:!0,children:a("View Project Site")})}),S&&Object(w.jsx)(m.cb,{mb:"2px",justifyContent:"flex-end",children:Object(w.jsx)(m.tb,{href:"".concat(z.d,"/address/").concat(x?I:S),bold:!1,small:!0,children:a("View Contract")})}),c&&C&&y&&Object(w.jsx)(m.cb,{justifyContent:"flex-end",children:Object(w.jsxs)(m.v,{variant:"text",p:"0",height:"auto",onClick:function(){return Object(Yn.a)(y,o.symbol,o.decimals)},children:[Object(w.jsx)(m.Gc,{color:"primary",fontSize:"14px",children:a("Add to Metamask")}),Object(w.jsx)(m.Gb,{ml:"4px"})]})})]})},_n=f.a.memo(Qn),Xn=Object(y.e)(m.cb)(lt||(lt=Object(k.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),Jn=function(e){var t=e.pool,n=e.account,c=e.defaultExpanded,a=t.vaultKey,r=Object(O.b)().t,i=Object(h.useState)(c||!1),o=Object(U.a)(i,2),s=o[0],l=o[1],b=r("You must harvest and compound your earnings from this pool manually."),u=r("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),j=Object(m.nd)(a?u:b,{placement:"bottom"}),d=j.targetRef,x=j.tooltip,p=j.tooltipVisible;return Object(w.jsxs)(m.C,{children:[Object(w.jsxs)(Xn,{children:[Object(w.jsxs)(m.cb,{alignItems:"center",children:[a?Object(w.jsx)(Hn.c,{}):Object(w.jsx)(Hn.f,{}),p&&x,Object(w.jsx)(m.cb,{ref:d,children:Object(w.jsx)(m.fb,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(w.jsx)(m.ab,{expanded:s,onClick:function(){return l(!s)},children:r(s?"Hide":"Details")})]}),s&&Object(w.jsx)(_n,{pool:t,account:n})]})},Zn=Object(y.e)(m.D)(bt||(bt=Object(k.a)(["\n  background: ",";\n  border-radius: ",";\n"])),(function(e){var t=e.isFinished,n=e.background,c=e.theme;return t?c.colors.backgroundDisabled:c.colors.gradients[n]}),(function(e){var t=e.theme;return"".concat(t.radii.card," ").concat(t.radii.card," 0 0")})),ec=function(e){var t=e.isFinished,n=e.title,c=e.subTitle;return Object(w.jsxs)(m.cb,{flexDirection:"column",children:[Object(w.jsx)(m.eb,{color:t?"textDisabled":"body",scale:"lg",children:n}),Object(w.jsx)(m.Gc,{fontSize:"14px",color:t?"textDisabled":"textSubtle",children:c})]})},tc=function(e){var t=e.isFinished,n=void 0!==t&&t,c=e.isStaking,a=void 0!==c&&c,r=e.children,i=a?"bubblegum":"cardHeader";return Object(w.jsx)(Zn,{isFinished:n,background:i,children:Object(w.jsx)(m.cb,{alignItems:"center",justifyContent:"space-between",children:r})})},nc=n(77),cc=(n(150),n(409),n(297),n(826)),ac=function(e,t){var n=Object(h.useState)(!1),c=Object(U.a)(n,2),a=c[0],r=c[1],i=Object(O.b)().t,o=Object(oe.a)(),s=o.toastSuccess,l=o.toastError,b=Object(J.x)(e),u=Object(be.a)().callWithGasPrice,j=Object(J.d)();return{handleApprove:function(){var e=Object(L.a)(E.a.mark((function e(){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(j,"approve",[b.address,M.a.constants.MaxUint256]);case 2:return n=e.sent,s("".concat(i("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:n.hash})),r(!0),e.next=7,n.wait();case 7:(c=e.sent).status?(s(i("Contract Enabled"),Object(w.jsx)(ae.b,{txHash:c.transactionHash,children:i("You can now stake in the %symbol% vault!",{symbol:"CAKE"})})),t(),r(!1)):(l(i("Error"),i("Please try again. Confirm the transaction and make sure you are paying enough gas!")),r(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),requestedApproval:a}},rc=function(e){var t=Object(h.useState)(!1),n=Object(U.a)(t,2),c=n[0],a=n[1],r=Object(X.c)().account,i=Object(J.d)(),o=Object(J.x)(e),s=Object(cc.a)(),l=s.lastUpdated,b=s.setLastUpdated;return Object(h.useEffect)((function(){(function(){var e=Object(L.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.allowance(r,o.address);case 3:t=e.sent,a(t.gt(0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[r,i,o,l]),{isVaultApproved:c,setLastUpdated:b}},ic=function(e){var t=e.vaultKey,n=e.isLoading,c=void 0!==n&&n,a=e.setLastUpdated,r=Object(O.b)().t,i=ac(t,a),o=i.handleApprove,s=i.requestedApproval;return Object(w.jsx)(w.Fragment,{children:c?Object(w.jsx)(m.lc,{width:"100%",height:"52px"}):Object(w.jsx)(m.v,{isLoading:s,endIcon:s?Object(w.jsx)(m.j,{spin:!0,color:"currentColor"}):null,disabled:s,onClick:o,width:"100%",children:r("Enable")})})},oc=Object(y.e)(m.sb)(ut||(ut=Object(k.a)(["\n  width: 100%;\n"]))),sc=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(O.b)().t,a=Object(Se.a)().theme;return Object(w.jsxs)(m.Ib,{title:c("%symbol% required",{symbol:t}),onDismiss:n,headerBackground:a.colors.gradients.cardHeader,children:[Object(w.jsx)(m.Gc,{color:"failure",bold:!0,children:c("Insufficient %symbol% balance",{symbol:t})}),Object(w.jsx)(m.Gc,{mt:"24px",children:c("You\u2019ll need %symbol% to stake in this pool!",{symbol:t})}),Object(w.jsx)(m.Gc,{children:c("Buy some %symbol%, or make sure your %symbol% isn\u2019t in another pool or LP.",{symbol:t})}),Object(w.jsxs)(m.v,{mt:"24px",as:"a",external:!0,href:"/swap",children:[c("Buy")," ",t]}),Object(w.jsx)(oc,{href:"https://yieldwatch.net",external:!0,children:Object(w.jsxs)(m.v,{variant:"secondary",mt:"8px",width:"100%",children:[c("Locate Assets"),Object(w.jsx)(m.Tb,{color:"primary",ml:"4px"})]})}),Object(w.jsx)(m.v,{variant:"text",onClick:n,children:c("Close Window")})]})},lc=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.performanceFee,a=Object(v.h)(t.vaultKey),r=a.totalShares,i=a.userData,o=i.userShares,s=i.isLoading,l=a.pricePerFullShare,b=t.stakingToken,u=Object(Fe.b)(o,l),j=u.cakeAsBigNumber,d=u.cakeAsNumberBalance,x=Object(N.f)(),p=x.gt(0)?Object(de.g)(j.multipliedBy(x),b.decimals):0,h=Object(O.b)().t,f=Object(m.ld)(Object(w.jsx)(sc,{tokenSymbol:b.symbol})),g=Object(U.a)(f,1)[0],k=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:n,performanceFee:c,pool:t})),y=Object(U.a)(k,1)[0],S=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:j,pool:t,isRemovingStake:!0})),I=Object(U.a)(S,1)[0],C=o&&o.gt(0)&&r&&o.dividedBy(r).multipliedBy(100).decimalPlaces(5);return Object(w.jsxs)(m.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(w.jsxs)(m.cb,{flexDirection:"column",children:[Object(w.jsx)(Rn.a,{fontSize:"20px",bold:!0,value:d,decimals:5}),Object(w.jsxs)(m.Gc,{as:m.cb,fontSize:"12px",color:"textSubtle",flexWrap:"wrap",children:[x.gt(0)?Object(w.jsx)(Rn.a,{value:p,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(w.jsx)(m.lc,{mt:"1px",height:16,width:64}),!s&&C&&t.vaultKey===Ce.g.IfoPool&&Object(w.jsxs)(m.q,{as:"span",ml:"2px",children:["| ",h("%num% of total",{num:"".concat(C.toString(),"%")})]})]})]}),Object(w.jsxs)(m.cb,{children:[Object(w.jsx)(m.hb,{variant:"secondary",onClick:I,mr:"6px",children:Object(w.jsx)(m.Hb,{color:"primary",width:"24px"})}),Object(w.jsx)(m.hb,{variant:"secondary",onClick:n.gt(0)?y:g,children:Object(w.jsx)(m.a,{color:"primary",width:"24px",height:"24px"})})]})]})},bc=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.accountHasSharesStaked,a=e.performanceFee,r=e.isLoading,i=void 0!==r&&r,o=t.stakingToken,s=Object(O.b)().t,l=Object(m.ld)(Object(w.jsx)(sc,{tokenSymbol:o.symbol})),b=Object(U.a)(l,1)[0],u=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:n,pool:t,performanceFee:a})),j=Object(U.a)(u,1)[0];return Object(w.jsx)(m.cb,{flexDirection:"column",children:i?Object(w.jsx)(m.lc,{width:"100%",height:"52px"}):c?Object(w.jsx)(lc,{pool:t,stakingTokenBalance:n,performanceFee:a}):Object(w.jsx)(m.v,{onClick:n.gt(0)?j:b,children:s("Stake")})})},uc=Object(y.e)(m.Gc)(jt||(jt=Object(k.a)(["\n  display: inline;\n"]))),jc=function(){var e=Object(O.b)().t,t=Object(v.c)(),n=Object(de.g)(t),c=Object(sn.c)(n);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(xe.a,{gap:"4px",alignItems:"center",children:[Object(w.jsx)(uc,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:e("IFO Credit")}),Object(w.jsx)(nc.a,{size:"24px",placement:"auto",display:"inline",text:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Gc,{children:e("Your entry limit in the next IFO sale is determined by your IFO credit. This is calculated by the average CAKE balance of the principal amount in the IFO pool during the last credit calculation period.")}),Object(w.jsx)(m.Gc,{children:e("Please note: even the pool is auto compounding. Amount of profits will not be included during IFO credit calculations.")})]})})]}),Object(w.jsxs)(m.cb,{flexDirection:"column",pb:"16px",children:[Object(w.jsx)(Rn.a,{fontSize:"20px",bold:!0,value:n,decimals:5}),Object(w.jsx)(m.Gc,{fontSize:"12px",color:"textSubtle",display:"flex",children:void 0!==c?Object(w.jsx)(Rn.a,{value:c,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(w.jsx)(m.lc,{mt:"1px",height:16,width:64})})]})]})},dc=function(e){var t=e.pool,n=e.accountHasSharesStaked,c=e.isLoading,a=e.performanceFee,r=t.stakingToken,i=t.userData,o=Object(O.b)().t,s=(null===i||void 0===i?void 0:i.stakingTokenBalance)?new K.a(i.stakingTokenBalance):q.c,l=rc(t.vaultKey),b=l.isVaultApproved,u=l.setLastUpdated;return Object(w.jsx)(m.cb,{flexDirection:"column",children:Object(w.jsxs)(m.cb,{flexDirection:"column",children:[b&&t.vaultKey===Ce.g.IfoPool&&Object(w.jsx)(jc,{}),Object(w.jsxs)(m.q,{display:"inline",children:[Object(w.jsxs)(uc,{color:n?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[n?r.symbol:o("Stake")," "]}),Object(w.jsx)(uc,{color:n?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:n?o("Staked (compounding)"):"".concat(r.symbol)})]}),b?Object(w.jsx)(bc,{isLoading:c,pool:t,stakingTokenBalance:s,accountHasSharesStaked:n,performanceFee:a}):Object(w.jsx)(ic,{vaultKey:t.vaultKey,isLoading:c,setLastUpdated:u})]})})},xc=function(e){var t=e.cakeToDisplay,n=e.dollarValueToDisplay,c=e.dateStringToDisplay,a=Object(O.b)().t,r=Object(m.nd)(Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Rn.a,{fontSize:"16px",value:t,decimals:3,bold:!0,unit:" CAKE"}),Object(w.jsx)(Rn.a,{fontSize:"16px",value:n,decimals:2,bold:!0,prefix:"~$"}),a("Earned since your last action"),Object(w.jsx)(m.Gc,{children:c})]}),{placement:"bottom-end"}),i=r.targetRef,o=r.tooltip,s=r.tooltipVisible;return Object(w.jsxs)(w.Fragment,{children:[s&&o,Object(w.jsx)(m.Rc,{ref:i,small:!0,children:Object(w.jsx)(Rn.a,{fontSize:"14px",value:t})})]})},mc=function(e){var t=e.vaultKey,n=Object(O.b)().t,c=Object(X.c)().account,a=Object(v.h)(t),r=a.pricePerFullShare,i=a.userData,o=i.cakeAtLastUserAction,s=i.userShares,l=i.lastUserActionTime,b=Object(N.f)(),u=Object(Fe.d)(c,o,s,r,b.toNumber()),j=u.hasAutoEarnings,d=u.autoCakeToDisplay,x=u.autoUsdToDisplay,p=l&&1e3*parseInt(l),h=new Date(p).toLocaleString();return Object(w.jsxs)(m.cb,{alignItems:"center",justifyContent:"space-between",children:[Object(w.jsx)(m.Gc,{fontSize:"14px",children:"".concat(n("Recent CAKE profit"),":")}),j&&Object(w.jsx)(xc,{cakeToDisplay:d,dollarValueToDisplay:x,dateStringToDisplay:h})]})},pc=["pool","showStakedOnly","defaultFooterExpanded"],Oc=Object(y.e)(m.B)(dt||(dt=Object(k.a)(["\n  min-height: ",";\n"])),(function(e){return e.isLoading?"0":"254px"})),hc=function(){var e=Object(v.d)(),t=e.creditStartBlock,n=e.creditEndBlock,c=e.hasEndBlockOver,a=Object(O.b)().t,r=Object(m.nd)(c?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Gc,{children:a("The latest credit calculation period has ended. After the coming IFO, credits will be reset and the calculation will resume.")}),Object(w.jsx)(m.tb,{href:"https://twitter.com/pancakeswap",children:a("Follow us on Twitter to catch the latest news about the coming IFO.")})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Gc,{children:a("The start block of the current calculation period. Your average IFO CAKE Pool staking balance is calculated throughout this period.")}),Object(w.jsx)(m.tb,{href:"https://medium.com/pancakeswap/initial-farm-offering-ifo-3-0-ifo-staking-pool-622d8bd356f1",children:a("Check out our Medium article for more details.")})]}),{placement:"auto"}),i=r.tooltip,o=r.tooltipVisible,s=r.targetRef;return Object(w.jsxs)(m.cb,{mt:"8px",justifyContent:"space-between",children:[Object(w.jsx)(m.Gc,{fontSize:"14px",children:a(c?"Credit calculation ended:":"Credit calculation starts:")}),Object(w.jsxs)(m.cb,{mr:"6px",alignItems:"center",children:[Object(w.jsx)(m.sb,{external:!0,href:Object(je.e)(c?n:t,"block"),mr:"4px",color:c?"warning":"primary",fontSize:"14px",children:c?n:t}),Object(w.jsx)("span",{ref:s,children:Object(w.jsx)(m.fb,{color:"textSubtle"})})]}),o&&i]})},fc=function(e){var t=e.pool,n=e.showStakedOnly,c=e.defaultFooterExpanded,a=Object(ke.a)(e,pc),r=Object(O.b)().t,i=Object(X.c)().account,o=Object(v.h)(t.vaultKey),s=o.userData,l=s.userShares,b=s.isLoading,u=o.fees.performanceFeeAsDecimal,j=o.pricePerFullShare,d=Object(Fe.b)(l,j).cakeAsBigNumber,x=l&&l.gt(0),p=!t.userData||b;return n&&!x?null:Object(w.jsxs)(Vn,Object(B.a)(Object(B.a)({isActive:!0},a),{},{children:[Object(w.jsxs)(tc,{isStaking:x,children:[Object(w.jsx)(ec,{title:r(Te.b[t.vaultKey].name),subTitle:r(Te.b[t.vaultKey].description)}),Object(w.jsx)(m.Qc,Object(B.a)(Object(B.a)({},Te.b[t.vaultKey].tokenImage),{},{width:64,height:64}))]}),Object(w.jsxs)(Oc,{isLoading:p,children:[Object(w.jsx)(qn,{pool:t,stakedBalance:d,performanceFee:u}),t.vaultKey===Ce.g.IfoPool&&Object(w.jsx)(hc,{}),Object(w.jsxs)(xe.a,{mt:"16px",gap:"24px",flexDirection:x?"column-reverse":"column",children:[Object(w.jsxs)(m.q,{children:[Object(w.jsx)(m.q,{mt:"24px",children:Object(w.jsx)(mc,{vaultKey:t.vaultKey})}),Object(w.jsx)(m.q,{mt:"8px",children:Object(w.jsx)(Ge,{vaultKey:t.vaultKey})})]}),Object(w.jsx)(m.cb,{flexDirection:"column",children:i?Object(w.jsx)(dc,{pool:t,accountHasSharesStaked:x,isLoading:p,performanceFee:u}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.Gc,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:r("Start earning")}),Object(w.jsx)($t.a,{})]})})]})]}),Object(w.jsx)(Jn,{defaultExpanded:c,pool:t,account:i})]}))},gc=y.e.div(xt||(xt=Object(k.a)(["\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n\n  "," {\n    margin-left: 12px;\n    margin-right: 12px;\n    margin-bottom: 0;\n    height: ",";\n  }\n}\n\n  "," {\n    margin-left: 32px;\n    margin-right: 0;\n  }\n"])),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.isAutoVault?"130px":"auto"}),(function(e){return e.theme.mediaQueries.xl})),vc=y.e.div(mt||(mt=Object(k.a)(["\n  font-weight: 600;\n  font-size: 12px;\n"]))),kc=y.e.div(pt||(pt=Object(k.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),yc=Object(y.e)(m.v)(Ot||(Ot=Object(k.a)(["\n  flex-grow: 1;\n"]))),wc=function(e){var t=e.children,n=e.onClick;return Object(w.jsx)(yc,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},Sc=n(795),Ic=n(803),Cc={gasLimit:z.j},Ac=function(){var e=Object(L.a)(E.a.mark((function e(t,n){var c,a,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.length>2&&void 0!==r[2]?r[2]:18,a=Object(Ic.a)(),e.abrupt("return",t.deposit(new K.a(n).times(q.b.pow(c)).toString(),Object(B.a)(Object(B.a)({},Cc),{},{gasPrice:a})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pc=function(){var e=Object(L.a)(E.a.mark((function e(t,n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(Ic.a)(),e.abrupt("return",t.deposit(new K.a(n).times(z.k).toString(),Object(B.a)(Object(B.a)({},Cc),{},{gasPrice:c})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(ee.b)(),c=Object(X.c)(),a=c.account,r=Object(J.m)(),i=Object(J.u)(e),o=Object(h.useCallback)(function(){var c=Object(L.a)(E.a.mark((function c(o,s,l,b,u){var j,d;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=6;break}return c.next=3,Object(Sc.d)(r,0,o);case 3:j=c.sent,c.next=15;break;case 6:if(!t){c.next=12;break}return c.next=9,Pc(i,o);case 9:j=c.sent,c.next=15;break;case 12:return c.next=14,Ac(i,o,s);case 14:j=c.sent;case 15:return l(j),c.next=18,j.wait();case 18:(d=c.sent).status?(b(d),n(Object(Z.q)(e,a)),n(Object(Z.o)(e,a))):u(d);case 20:case"end":return c.stop()}}),c)})));return function(e,t,n,a,r){return c.apply(this,arguments)}}(),[a,n,t,r,i,e]);return{onStake:o}},Dc=function(){var e=Object(L.a)(E.a.mark((function e(t,n,c){var a,r,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(Ic.a)(),r=Object(Xt.parseUnits)(n,c),e.next=4,t.withdraw(r.toString(),{gasPrice:a});case 4:return i=e.sent,e.next=7,i.wait();case 7:return o=e.sent,e.abrupt("return",o.status);case 9:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Fc=function(){var e=Object(L.a)(E.a.mark((function e(t){var n,c,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Ic.a)(),e.next=3,t.emergencyWithdraw({gasPrice:n});case 3:return c=e.sent,e.next=6,c.wait();case 6:return a=e.sent,e.abrupt("return",a.status);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ec=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(ee.b)(),c=Object(X.c)(),a=c.account,r=Object(J.m)(),i=Object(J.u)(e),o=Object(h.useCallback)(function(){var c=Object(L.a)(E.a.mark((function c(o,s,l,b,u){var j,d;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=6;break}return c.next=3,Object(Sc.e)(r,0,o);case 3:j=c.sent,c.next=15;break;case 6:if(!t){c.next=12;break}return c.next=9,Fc(i);case 9:j=c.sent,c.next=15;break;case 12:return c.next=14,Dc(i,o,s);case 14:j=c.sent;case 15:return l(j),c.next=18,j.wait();case 18:(d=c.sent).status?(b(d),n(Object(Z.q)(e,a)),n(Object(Z.o)(e,a)),n(Object(Z.p)(e,a))):u(d);case 20:case"end":return c.stop()}}),c)})));return function(e,t,n,a,r){return c.apply(this,arguments)}}(),[a,n,t,r,i,e]);return{onUnstake:o}},Bc=Object(y.e)(m.sb)(ht||(ht=Object(k.a)(["\n  width: 100%;\n"]))),Lc=Object(y.e)(m.cb)(ft||(ft=Object(k.a)(["\n  cursor: pointer;\n"]))),Uc=Object(y.e)(m.Gc)(gt||(gt=Object(k.a)(["\n  width: 72px;\n  max-width: 72px;\n  overflow: hidden;\n  text-align: right;\n  text-overflow: ellipsis;\n"]))),Gc=function(e){var t=e.isBnbPool,n=e.pool,c=e.stakingTokenBalance,a=e.stakingTokenPrice,r=e.isRemovingStake,i=void 0!==r&&r,o=e.onDismiss,s=n.sousId,l=n.stakingToken,b=n.earningTokenPrice,u=n.apr,j=n.userData,d=n.stakingLimit,x=n.earningToken,p=Object(O.b)().t,f=Object(Se.a)().theme,g=Tc(s,t).onStake,v=Ec(s,n.enableEmergencyWithdraw).onUnstake,k=Object(oe.a)(),y=k.toastSuccess,S=k.toastError,I=Object(h.useState)(!1),C=Object(U.a)(I,2),A=C[0],P=C[1],T=Object(h.useState)(""),D=Object(U.a)(T,2),F=D[0],B=D[1],G=Object(h.useState)(!1),z=Object(U.a)(G,2),R=z[0],H=z[1],M=Object(h.useState)(0),N=Object(U.a)(M,2),q=N[0],V=N[1],W=Object(h.useState)(!1),Y=Object(U.a)(W,2),$=Y[0],Q=Y[1],_=function(){return i?j.stakedBalance:d.gt(0)&&c.gt(d)?d:c},X=Object(de.h)(new K.a(F),l.decimals),J=i?j.stakedBalance.lt(X):j.stakingTokenBalance.lt(X),Z=new K.a(F).times(a),ee=!Z.isNaN()&&Object(de.e)(Z.toNumber()),te=Object(Ae.b)({principalInUSD:Z.isNaN()?0:Z.toNumber(),apr:u,earningTokenPrice:b})[3]*n.earningTokenPrice,ne=Object(de.e)(te,te>1e4?0:2,te>1e4?0:2),ce=l.address?"/swap?outputCurrency=".concat(l.address):"/swap";Object(h.useEffect)((function(){d.gt(0)&&!i&&H(X.plus(j.stakedBalance).gt(d))}),[F,d,j,l,i,H,X]);var re=function(e){if(e>0){var t=_().dividedBy(100).multipliedBy(e),n=Object(de.i)(t,l.decimals,l.decimals);B(n)}else B("");V(e)},ie=function(){var e=Object(L.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),e.prev=1,!i){e.next=7;break}return e.next=5,v(F,l.decimals,(function(e){y("".concat(p("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:e.hash}))}),(function(e){y("".concat(p("Unstaked"),"!"),Object(w.jsx)(ae.b,{txHash:e.transactionHash,children:p("Your %symbol% earnings have also been harvested to your wallet!",{symbol:x.symbol})}))}),(function(e){S(p("Error"),Object(w.jsx)(ae.b,{txHash:e.transactionHash,children:p("Please try again. Confirm the transaction and make sure you are paying enough gas!")}))}));case 5:e.next=9;break;case 7:return e.next=9,g(F,l.decimals,(function(e){y("".concat(p("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:e.hash}))}),(function(e){y("".concat(p("Staked"),"!"),Object(w.jsx)(ae.b,{txHash:e.transactionHash,children:p("Your %symbol% funds have been staked in the pool!",{symbol:l.symbol})}))}),(function(e){S(p("Error"),Object(w.jsx)(ae.b,{txHash:e.transactionHash,children:p("Please try again. Confirm the transaction and make sure you are paying enough gas!")}))}));case 9:P(!1),o(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),Object(De.b)(e.t0),S(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),P(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return $?Object(w.jsx)(Pe.a,{earningTokenPrice:b,stakingTokenPrice:a,apr:u,linkLabel:p("Get %symbol%",{symbol:l.symbol}),linkHref:ce,stakingTokenBalance:j.stakedBalance.plus(c),stakingTokenSymbol:l.symbol,earningTokenSymbol:x.symbol,onBack:function(){return Q(!1)},initialValue:F}):Object(w.jsxs)(m.Ib,{minWidth:"346px",title:p(i?"Unstake":"Stake in Pool"),onDismiss:o,headerBackground:f.colors.gradients.cardHeader,children:[d.gt(0)&&!i&&Object(w.jsx)(m.Gc,{color:"secondary",bold:!0,mb:"24px",style:{textAlign:"center"},fontSize:"16px",children:p("Max stake for this pool: %amount% %token%",{amount:Object(de.i)(d,l.decimals,0),token:l.symbol})}),Object(w.jsxs)(m.cb,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(w.jsxs)(m.Gc,{bold:!0,children:[p(i?"Unstake":"Stake"),":"]}),Object(w.jsxs)(m.cb,{alignItems:"center",minWidth:"70px",children:[Object(w.jsx)(m.ib,{src:"/images/tokens/".concat(l.address,".png"),width:24,height:24,alt:l.symbol}),Object(w.jsx)(m.Gc,{ml:"4px",bold:!0,children:l.symbol})]})]}),Object(w.jsx)(m.l,{value:F,onUserInput:function(e){if(e){var t=Object(de.h)(new K.a(e),l.decimals),n=Math.floor(t.dividedBy(_()).multipliedBy(100).toNumber());V(Math.min(n,100))}else V(0);B(e)},currencyValue:0!==a&&"~".concat(ee||0," USD"),isWarning:R||J,decimals:l.decimals}),R&&Object(w.jsx)(m.Gc,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:p("Maximum total stake: %amount% %token%",{amount:Object(de.i)(new K.a(d),l.decimals,0),token:l.symbol})}),J&&Object(w.jsx)(m.Gc,{color:"failure",fontSize:"12px",style:{textAlign:"right"},mt:"4px",children:p("Insufficient %symbol% balance",{symbol:l.symbol})}),Object(w.jsx)(m.Gc,{ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:p("Balance: %balance%",{balance:Object(de.i)(_(),l.decimals)})}),Object(w.jsx)(m.mc,{min:0,max:100,value:q,onValueChanged:re,name:"stake",valueLabel:"".concat(q,"%"),step:1}),Object(w.jsxs)(m.cb,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(w.jsx)(wc,{onClick:function(){return re(25)},children:"25%"}),Object(w.jsx)(wc,{onClick:function(){return re(50)},children:"50%"}),Object(w.jsx)(wc,{onClick:function(){return re(75)},children:"75%"}),Object(w.jsx)(wc,{onClick:function(){return re(100)},children:p("Max")})]}),!i&&Object(w.jsxs)(m.cb,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(w.jsxs)(m.Gc,{mr:"8px",color:"textSubtle",children:[p("Annual ROI at current rates"),":"]}),Number.isFinite(te)?Object(w.jsxs)(Lc,{alignItems:"center",onClick:function(){Q(!0)},children:[Object(w.jsxs)(Uc,{children:["$",ne]}),Object(w.jsx)(m.hb,{variant:"text",scale:"sm",children:Object(w.jsx)(m.y,{color:"textSubtle",width:"18px"})})]}):Object(w.jsx)(m.lc,{width:60})]}),Object(w.jsx)(m.v,{isLoading:A,endIcon:A?Object(w.jsx)(m.j,{spin:!0,color:"currentColor"}):null,onClick:ie,disabled:!F||0===parseFloat(F)||R||J,mt:"24px",children:p(A?"Confirming":"Confirm")}),!i&&Object(w.jsx)(Bc,{external:!0,href:ce,children:Object(w.jsx)(m.v,{width:"100%",mt:"8px",variant:"secondary",children:p("Get %symbol%",{symbol:l.symbol})})})]})},Kc=y.e.div(vt||(vt=Object(k.a)(["\n  display: flex;\n"]))),zc=function(e){var t=e.pool,n=e.userDataLoaded,c=t.sousId,a=t.stakingToken,r=t.earningToken,i=t.stakingLimit,o=t.isFinished,s=t.poolCategory,l=t.userData,b=t.stakingTokenPrice,u=t.vaultKey,j=Object(O.b)().t,d=Object(X.c)().account,x=function(e,t,n){var c=Object(h.useState)(!1),a=Object(U.a)(c,2),r=a[0],i=a[1],o=Object(oe.a)(),s=o.toastSuccess,l=o.toastError,b=Object(be.a)().callWithGasPrice,u=Object(O.b)().t,j=Object(ee.b)(),d=Object(X.c)().account,x=Object(J.u)(t);return{handleApprove:Object(h.useCallback)(Object(L.a)(E.a.mark((function c(){var a,r;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i(!0),c.next=4,b(e,"approve",[x.address,M.a.constants.MaxUint256]);case 4:return a=c.sent,s("".concat(u("Transaction Submitted"),"!"),Object(w.jsx)(ae.b,{txHash:a.hash})),c.next=8,a.wait();case 8:r=c.sent,j(Object(Z.n)(t,d)),r.status?(s(u("Contract Enabled"),Object(w.jsx)(ae.b,{txHash:r.transactionHash,children:u("You can now stake in the %symbol% pool!",{symbol:n})})),i(!1)):(l(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!")),i(!1)),c.next=17;break;case 13:c.prev=13,c.t0=c.catch(0),Object(De.b)(c.t0),l(u("Error"),u("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 17:case"end":return c.stop()}}),c,null,[[0,13]])}))),[d,j,e,x,t,n,u,l,s,b]),requestedApproval:r}}(Object(J.g)(a.address||""),c,r.symbol),p=x.handleApprove,f=x.requestedApproval,g=rc(t.vaultKey),k=g.isVaultApproved,y=g.setLastUpdated,S=ac(t.vaultKey,y),I=S.handleApprove,C=S.requestedApproval,A=u?I:p,P=u?C:f,T=s===re.d.BINANCE,D=(null===l||void 0===l?void 0:l.allowance)?new K.a(l.allowance):q.c,F=(null===l||void 0===l?void 0:l.stakedBalance)?new K.a(l.stakedBalance):q.c,B=!u&&F.gt(0),G=(null===l||void 0===l?void 0:l.stakingTokenBalance)?new K.a(l.stakingTokenBalance):q.c,z=Object(de.g)(F,a.decimals),R=Object(de.g)(F.multipliedBy(b),a.decimals),H=Object(v.h)(t.vaultKey),N=H.userData.userShares,V=H.pricePerFullShare,W=Object(Fe.b)(N,V),Y=W.cakeAsBigNumber,$=W.cakeAsNumberBalance,Q=N&&N.gt(0),_=u&&Q,te=Object(de.g)(Y.multipliedBy(b),a.decimals),ne=u?!k:!D.gt(0)&&!T,ce=Object(m.ld)(Object(w.jsx)(sc,{tokenSymbol:a.symbol})),ie=Object(U.a)(ce,1)[0],se=Object(m.ld)(Object(w.jsx)(Gc,{isBnbPool:T,pool:t,stakingTokenBalance:G,stakingTokenPrice:b})),le=Object(U.a)(se,1)[0],ue=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:G,pool:t})),je=Object(U.a)(ue,1)[0],xe=Object(m.ld)(Object(w.jsx)(Gc,{stakingTokenBalance:G,isBnbPool:T,pool:t,stakingTokenPrice:b,isRemovingStake:!0})),me=Object(U.a)(xe,1)[0],pe=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:Y,pool:t,isRemovingStake:!0})),Oe=Object(U.a)(pe,1)[0],he=function(){u?je():le()},fe=Object(m.nd)(j("You've already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),ge=fe.targetRef,ve=fe.tooltip,ke=fe.tooltipVisible,ye=i.gt(0)&&l.stakedBalance.gte(i);return d?n?ne?Object(w.jsxs)(gc,{children:[Object(w.jsx)(vc,{children:Object(w.jsx)(m.Gc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:j("Enable pool")})}),Object(w.jsx)(kc,{children:Object(w.jsx)(m.v,{width:"100%",disabled:P,onClick:A,variant:"secondary",children:j("Enable")})})]}):B||_?Object(w.jsxs)(gc,{isAutoVault:!!u,children:[Object(w.jsxs)(vc,{children:[Object(w.jsxs)(m.Gc,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[a.symbol," "]}),Object(w.jsx)(m.Gc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:j(u?"Staked (compounding)":"Staked")})]}),Object(w.jsxs)(kc,{children:[Object(w.jsxs)(m.cb,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:[Object(w.jsx)(Rn.a,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:u?$:z}),Object(w.jsx)(Rn.a,{fontSize:"12px",display:"inline",color:"textSubtle",decimals:2,value:u?te:R,unit:" USD",prefix:"~"})]}),Object(w.jsxs)(Kc,{children:[Object(w.jsx)(m.hb,{variant:"secondary",onClick:function(){u?Oe():me()},mr:"6px",children:Object(w.jsx)(m.Hb,{color:"primary",width:"14px"})}),ye?Object(w.jsx)("span",{ref:ge,children:Object(w.jsx)(m.hb,{variant:"secondary",disabled:!0,children:Object(w.jsx)(m.a,{color:"textDisabled",width:"24px",height:"24px"})})}):Object(w.jsx)(m.hb,{variant:"secondary",onClick:G.gt(0)?he:ie,disabled:o,children:Object(w.jsx)(m.a,{color:"primary",width:"14px"})})]}),ke&&ve]})]}):Object(w.jsxs)(gc,{children:[Object(w.jsxs)(vc,{children:[Object(w.jsxs)(m.Gc,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[j("Stake")," "]}),Object(w.jsx)(m.Gc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:a.symbol})]}),Object(w.jsx)(kc,{children:Object(w.jsx)(m.v,{width:"100%",onClick:G.gt(0)?he:ie,variant:"secondary",disabled:o,children:j("Stake")})})]}):Object(w.jsxs)(gc,{children:[Object(w.jsx)(vc,{children:Object(w.jsx)(m.Gc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:j("Start staking")})}),Object(w.jsx)(kc,{children:Object(w.jsx)(m.lc,{width:180,height:"32px",marginTop:14})})]}):Object(w.jsxs)(gc,{children:[Object(w.jsx)(vc,{children:Object(w.jsx)(m.Gc,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:j("Start staking")})}),Object(w.jsx)(kc,{children:Object(w.jsx)($t.a,{width:"100%"})})]})},Rc=Object(y.e)(m.A)(kt||(kt=Object(k.a)(["\n  max-width: 400px;\n  width: 100%;\n"]))),Hc=Object(y.e)(m.cb)(yt||(yt=Object(k.a)(["\n  "," {\n    line-height: 1.2;\n    white-space: nowrap;\n  }\n"])),m.Gc),Mc=Object(y.e)(m.q)(wt||(wt=Object(k.a)(["\n  padding: 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.dropdown})),Nc=Object(y.e)(m.B)(St||(St=Object(k.a)(["\n  display: grid;\n  padding: 16px;\n  background-color: ",";\n  gap: 16px;\n  "," {\n    margin: 0;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.dropdown}),gc,(function(e){return e.theme.colors.invertedContrast})),qc=function(){var e=Object(v.f)().pool,t=Object(Mn.a)().account,n=Object(O.b)().t,c=Object(v.c)(),a=Object(v.e)(),r=a.fees.performanceFeeAsDecimal,i=a.userData,o=i.userShares,s=i.isLoading,l=a.pricePerFullShare,b=Object(Fe.b)(o,l).cakeAsBigNumber,u=Object(h.useState)(!1),j=Object(U.a)(u,2),d=j[0],x=j[1],p=Object(de.g)(c),f=Object(sn.c)(p),g=Object(m.nd)(n("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),{placement:"bottom"}),k=g.targetRef,y=g.tooltip,S=g.tooltipVisible;return Object(w.jsxs)(Rc,{isActive:!0,children:[Object(w.jsx)(m.D,{p:"16px",children:Object(w.jsxs)(m.cb,{justifyContent:"space-between",alignItems:"center",children:[Object(w.jsxs)(Hc,{alignItems:"center",flex:1,children:[Object(w.jsx)(we.b,{width:24,height:24,primaryToken:H.a.cake,secondaryToken:H.a.cake}),Object(w.jsxs)(m.q,{ml:"8px",children:[Object(w.jsx)(m.Gc,{fontSize:"12px",bold:!0,color:"secondary",textTransform:"uppercase",children:n("Staked")}),Object(w.jsx)(m.Gc,{small:!0,bold:!0,children:"IFO CAKE"}),Object(w.jsxs)(m.Gc,{color:"textSubtle",fontSize:"12px",children:[n("Stake")," CAKE"]})]})]}),Object(w.jsxs)(Hc,{flexDirection:"column",flex:1,children:[Object(w.jsx)(m.Gc,{color:"textSubtle",fontSize:"12px",children:n("IFO Credit")}),Object(w.jsx)(Rn.a,{small:!0,bold:!0,decimals:3,value:p}),Object(w.jsx)(Rn.a,{value:f||0,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"})]}),Object(w.jsx)(m.Z,{expanded:d,onClick:function(){return x((function(e){return!e}))}})]})}),d&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Nc,{children:[Object(w.jsx)(qn,{pool:e,stakedBalance:b,performanceFee:r}),Object(w.jsx)(hc,{}),Object(w.jsx)(gc,{children:Object(w.jsx)(jc,{})}),Object(w.jsx)(zc,{pool:e,userDataLoaded:!s}),Object(w.jsxs)(gc,{children:[Object(w.jsx)(m.q,{children:Object(w.jsx)(mc,{vaultKey:Ce.g.IfoPool})}),Object(w.jsx)(m.q,{mt:"8px",children:Object(w.jsx)(Ge,{vaultKey:Ce.g.IfoPool})})]})]}),Object(w.jsxs)(Mc,{children:[Object(w.jsx)(_n,{account:t,pool:e}),Object(w.jsxs)(m.cb,{alignItems:"center",children:[Object(w.jsx)(Hn.c,{}),S&&y,Object(w.jsx)(m.cb,{ref:k,children:Object(w.jsx)(m.fb,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]})]})]})]})},Vc=function(){var e=Object(v.f)().pool,t=Object(m.kd)(),n=t.isMd,c=t.isXs,a=t.isSm;return n||c||a?Object(w.jsx)(qc,{}):Object(w.jsx)(fc,{pool:e,showStakedOnly:!1,m:"auto"})},Wc=n(811),Yc=function(e){return[{title:e("What\u2019s the difference between a Basic Sale and Unlimited Sale?"),description:[e("In the Basic Sale, every user can commit a maximum of about 100 USD worth of CAKE. We calculate the maximum CAKE amount about 30 minutes before each IFO. The Basic Sale has no participation fee."),e("In the Unlimited Sale, there\u2019s no limit to the amount of CAKE you can commit. However, there\u2019s a fee for participation: see below.")]},{title:e("Which sale should I commit to? Can I do both?"),description:[e("You can choose one or both at the same time! If you\u2019re only committing a small amount, we recommend the Basic Sale first. Just remember you need a PancakeSwap Profile in order to participate.")]},{title:e("How much is the participation fee?"),description:[e("There\u2019s only a participation fee for the Unlimited Sale: there\u2019s no fee for the Basic Sale."),e("The fee will start at 1%."),e("The 1% participation fee decreases in cliffs, based on the percentage of overflow from the \u201cUnlimited\u201d portion of the sale.")]},{title:e("Where does the participation fee go?"),description:[e("The CAKE from the participation fee will be thrown into the weekly token burn.")]},{title:e("How can I get an achievement for participating in the IFO?"),description:[e("You need to contribute a minimum of about 10 USD worth of CAKE to either sale."),e("You can contribute to one or both, it doesn\u2019t matter: only your overall contribution is counted for the achievement.")]}]},$c=y.e.div(It||(It=Object(k.a)(["\n  flex: none;\n  order: 2;\n  max-width: 414px;\n  width: 100%;\n\n  "," {\n    order: 1;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Qc=y.e.div(Ct||(Ct=Object(k.a)(["\n  order: 1;\n  margin-bottom: 40px;\n\n  "," {\n    order: 2;\n    margin-bottom: 0;\n    margin-left: 40px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),_c=function(){var e=Object(O.b)().t;return Object(w.jsxs)(m.cb,{alignItems:["center",null,null,"start"],flexDirection:["column",null,null,"row"],children:[Object(w.jsx)($c,{children:Object(w.jsx)("img",{src:"/images/ifos/ifo-bunny.png",alt:"ifo bunny",width:"414px",height:"500px"})}),Object(w.jsx)(Qc,{children:Object(w.jsxs)(m.A,{children:[Object(w.jsx)(m.D,{children:Object(w.jsx)(m.eb,{scale:"lg",color:"secondary",children:e("Details")})}),Object(w.jsx)(m.B,{children:Yc(e).map((function(e,t,n){var c=e.title,a=e.description,r=n.length;return Object(w.jsx)(Wc.a,{id:c,mb:t+1===r?"":"24px",title:c,children:a.map((function(e){return Object(w.jsx)(m.Gc,{color:"textSubtle",as:"p",children:e},e)}))},c)}))})]})})]})},Xc=n(896),Jc=n.n(Xc),Zc=Object(y.e)(p.a)(At||(At=Object(k.a)(["\n  margin-left: -16px;\n  margin-right: -16px;\n  padding-top: 48px;\n  padding-bottom: 48px;\n\n  "," {\n    margin-left: -24px;\n    margin-right: -24px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ea=Object(y.e)(m.sb)(Pt||(Pt=Object(k.a)(["\n  display: inline;\n"]))),ta=Object(y.e)(m.q)(Tt||(Tt=Object(k.a)(["\n  margin-top: 16px;\n  border: 1px solid ",";\n  background-color: ",";\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.colors.background})),na=function(e){var t,n=e.hasProfile,c=Object(O.b)().t,a=Object(v.e)(),r=Object(v.c)(),i=Object(v.f)().pool,o=Object(m.nd)(Object(w.jsxs)(m.q,{children:[Object(w.jsx)("span",{children:c("IFO credit is calculated by average block balance in the IFO pool in over the staking period announced with each IFO proposal.")})," ",Object(w.jsx)(ea,{external:!0,href:"https://medium.com/pancakeswap/initial-farm-offering-ifo-3-0-ifo-staking-pool-622d8bd356f1",children:c("Please refer to our blog post for more details.")})]}),{}),s=o.targetRef,l=o.tooltip,b=o.tooltipVisible,u=Object(sn.c)(Object(de.g)(r)),j=(null===i||void 0===i||null===(t=i.userData)||void 0===t?void 0:t.stakingTokenBalance)?new K.a(i.userData.stakingTokenBalance):q.c,d=Object(m.ld)(Object(w.jsx)(Ne,{stakingMax:j,performanceFee:a.fees.performanceFeeAsDecimal,pool:i})),x=Object(U.a)(d,1)[0];return Object(w.jsxs)(m.B,{children:[b&&l,Object(w.jsx)(m.eb,{as:"h4",color:"secondary",mb:"16px",children:c("Stake CAKE in IFO pool")}),Object(w.jsxs)(m.q,{children:[Object(w.jsx)(m.Gc,{color:"textSubtle",small:!0,children:c("The maximum amount of CAKE user can commit to all the sales combined, is equal to the average CAKE balance in the IFO CAKE pool prior to the IFO. Stake more CAKE to increase the maximum CAKE you can commit to the sale. Missed this IFO? You can keep staking in the IFO CAKE Pool to join the next IFO sale.")}),Object(w.jsx)(m.Rc,{as:"span",fontWeight:700,ref:s,color:"textSubtle",small:!0,children:c("How does the IFO credit calculated?")})]}),n&&Object(w.jsx)(ta,{borderRadius:"default",p:"16px",children:Object(w.jsxs)(xe.a,{justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px",children:[Object(w.jsxs)(m.cb,{children:[Object(w.jsx)(m.wb,{style:{alignSelf:"flex-start"},width:32,height:32}),Object(w.jsxs)(m.q,{ml:"16px",children:[Object(w.jsx)(m.Gc,{bold:!0,fontSize:"12px",textTransform:"uppercase",color:"secondary",children:c("Your max CAKE entry")}),Object(w.jsx)(Rn.a,{fontSize:"20px",bold:!0,decimals:5,value:Object(de.g)(r)}),Object(w.jsx)(m.Gc,{fontSize:"12px",color:"textSubtle",children:u?Object(w.jsx)(Rn.a,{value:u,fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",unit:" USD"}):Object(w.jsx)(m.lc,{mt:"1px",height:16,width:64})})]})]}),Object(w.jsxs)(m.v,{onClick:x,children:[c("Stake")," CAKE"]})]})})]})},ca=function(e){var t=e.hasProfile,n=e.isLive,c=e.isCommitted,a=Object(O.b)().t;return Object(w.jsxs)(m.B,{children:[Object(w.jsx)(m.eb,{as:"h4",color:"secondary",mb:"16px",children:a("Commit CAKE")}),Object(w.jsxs)(m.Gc,{color:"textSubtle",small:!0,children:[a("When the IFO sales are live, you can \u201ccommit\u201d your CAKE to buy the tokens being sold.")," ",Object(w.jsx)("br",{}),a("We recommend committing to the Basic Sale first, but you can do both if you like.")]}),t&&n&&!c&&Object(w.jsx)(m.v,{as:"a",href:"#current-ifo",mt:"16px",children:a("Commit CAKE")})]})},aa=function(e){var t=e.ifo,n=e.walletIfoData,c=e.isLive,a=n.poolBasic,r=n.poolUnlimited,i=Object(ve.d)().hasProfile,o=Object(X.c)().account,s=Object(O.b)().t,l=Object(Qt.a)(t.currency.address).balance,b=a.amountTokenCommittedInLP.isGreaterThan(0)||r.amountTokenCommittedInLP.isGreaterThan(0),u=[i,l.isGreaterThan(0),b,a.hasClaimed||r.hasClaimed],j=function(e){var t=0===e||Jc()(u.slice(0,e),Boolean);return u[e]?t?"past":"future":t?"current":"future"},d=function(e){var t=u[e];switch(e){case 0:return Object(w.jsxs)(m.B,{children:[Object(w.jsx)(m.eb,{as:"h4",color:"secondary",mb:"16px",children:s("Activate your Profile")}),Object(w.jsx)(m.Gc,{color:"textSubtle",small:!0,mb:"16px",children:s("You\u2019ll need an active PancakeSwap Profile to take part in an IFO!")}),o?t?Object(w.jsxs)(m.cb,{alignItems:"center",children:[Object(w.jsx)(m.Gc,{color:"success",bold:!0,mr:"8px",children:s("Profile Active!")}),Object(w.jsx)(m.L,{color:"success"})]}):Object(w.jsx)(m.v,{as:Wt.a,to:"".concat(Yt.a,"/profile/").concat(o.toLowerCase()),children:s("Activate your Profile")}):Object(w.jsx)($t.a,{})]});case 1:return Object(w.jsx)(na,{hasProfile:i});case 2:return Object(w.jsx)(ca,{hasProfile:i,isLive:c,isCommitted:b});case 3:return Object(w.jsxs)(m.B,{children:[Object(w.jsx)(m.eb,{as:"h4",color:"secondary",mb:"16px",children:s("Claim your tokens and achievement")}),Object(w.jsx)(m.Gc,{color:"textSubtle",small:!0,children:s("After the IFO sales finish, you can claim any IFO tokens that you bought, and any unspent CAKE tokens will be returned to your wallet.")})]});default:return null}};return Object(w.jsxs)(Zc,{children:[Object(w.jsx)(m.eb,{id:"ifo-how-to",as:"h2",scale:"xl",color:"secondary",mb:"24px",textAlign:"center",children:s("How to Take Part")}),Object(w.jsx)(m.sc,{children:u.map((function(e,t){return Object(w.jsx)(m.rc,{index:t,statusFirstPart:j(t),statusSecondPart:j(t+1),children:Object(w.jsx)(m.A,{children:d(t)})},t)}))})]})},ra=Object(y.e)(m.q)(Dt||(Dt=Object(k.a)(["\n  background: ",";\n"])),(function(e){return e.theme.colors.gradients.bubblegum})),ia=D.x.find((function(e){return e.isActive})),oa=function(){var e=Q(ia),t=ce(ia);return Object(w.jsxs)(zn,{id:"current-ifo",py:["24px","24px","40px"],children:[Object(w.jsx)(p.a,{children:Object(w.jsxs)(Kn,{children:[Object(w.jsx)(Vc,{}),Object(w.jsx)(En,{ifo:ia,publicIfoData:e,walletIfoData:t})]})}),Object(w.jsx)(ra,{children:Object(w.jsx)(p.a,{children:Object(w.jsx)(aa,{isLive:"live"===e.status,ifo:ia,walletIfoData:t})})}),Object(w.jsx)(p.a,{children:Object(w.jsx)(_c,{})})]})},sa=n(427),la=function(e){var t=e.address,n=e.releaseBlockNumber,c=Object(N.c)(e.currency.symbol),a=Object(h.useState)(Object(_.a)({isInitialized:!1,status:"idle",blocksRemaining:0,secondsUntilStart:0,progress:5,secondsUntilEnd:0,startBlockNum:0,endBlockNum:0,numberPoints:null,thresholdPoints:void 0},re.e.poolUnlimited,{raisingAmountPool:q.c,totalAmountPool:q.c,offeringAmountPool:q.c,limitPerUserInLP:q.c,taxRate:0,sumTaxesOverflow:q.c})),r=Object(U.a)(a,2),i=r[0],o=r[1],s=Object(h.useCallback)(function(){var e=Object(L.a)(E.a.mark((function e(c){var a,r,i,s,l,b,u,j,d,x,m,p,O;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["startBlock","endBlock","raisingAmount","totalAmount"].map((function(e){return{address:t,name:e}})),e.next=3,Object(V.b)(sa,a);case 3:r=e.sent,i=Object(U.a)(r,4),s=i[0],l=i[1],b=i[2],u=i[3],j=s?s[0].toNumber():0,d=l?l[0].toNumber():0,x=W(c,j,d),m=d-j,p=d-c,O=c>j?(c-j)/m*100:(c-n)/(j-n)*100,o((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(_.a)({isInitialized:!0,status:x,blocksRemaining:p,secondsUntilStart:(j-c)*z.h,progress:O,secondsUntilEnd:p*z.h,startBlockNum:j,endBlockNum:d},re.e.poolUnlimited,Object(B.a)(Object(B.a)({},e.poolUnlimited),{},{raisingAmountPool:b?new K.a(b[0].toString()):q.c,totalAmountPool:u?new K.a(u[0].toString()):q.c})))}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n]);return Object(B.a)(Object(B.a)({},i),{},{currencyPriceInUSD:c,fetchIfoData:s})},ba=Object(_.a)({isInitialized:!1},re.e.poolUnlimited,{amountTokenCommittedInLP:q.c,hasClaimed:!1,isPendingTx:!1,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c}),ua=function(e){var t=Object(h.useState)(ba),n=Object(U.a)(t,2),c=n[0],a=n[1],r=e.address,i=e.currency,o=c.poolUnlimited,s=Object(X.c)().account,l=Object(J.j)(r),b=Object(J.g)(i.address),u=te(b,r,o.isPendingTx),j=Object(h.useCallback)(Object(L.a)(E.a.mark((function e(){var t,n,c,i,o,l,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["getOfferingAmount","userInfo","getRefundingAmount"].map((function(e){return{address:r,name:e,params:[s]}})),e.next=3,Object(V.b)(sa,t);case 3:n=e.sent,c=Object(U.a)(n,3),i=c[0],o=c[1],l=c[2],b=o?{amount:new K.a(o.amount.toString()),claimed:o.claimed}:{amount:q.c,claimed:!1},a((function(e){return Object(_.a)({isInitialized:!0},re.e.poolUnlimited,Object(B.a)(Object(B.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:b.amount,hasClaimed:b.claimed,offeringAmountInToken:i?new K.a(i[0].toString()):q.c,refundingAmountInLP:l?new K.a(l[0].toString()):q.c}))}));case 10:case"end":return e.stop()}}),e)}))),[s,r]),d=Object(h.useCallback)((function(){a(ba)}),[]);return Object(B.a)(Object(B.a)({},c),{},{allowance:u,contract:l,setPendingTx:function(e){return a((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(_.a)({},re.e.poolUnlimited,Object(B.a)(Object(B.a)({},t.poolUnlimited),{},{isPendingTx:e})))}))},setIsClaimed:function(){a((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(_.a)({},re.e.poolUnlimited,Object(B.a)(Object(B.a)({},e.poolUnlimited),{},{hasClaimed:!0})))}))},fetchIfoData:j,resetIfoData:d})},ja=function(e){var t=e.ifo,n=la(t),c=ua(t);return Object(w.jsx)(Un,{ifo:t,publicIfoData:n,walletIfoData:c})},da={isInitialized:!1,poolBasic:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1},poolUnlimited:{amountTokenCommittedInLP:q.c,offeringAmountInToken:q.c,refundingAmountInLP:q.c,taxAmountInLP:q.c,hasClaimed:!1,isPendingTx:!1}},xa=function(e){var t=Object(h.useState)(da),n=Object(U.a)(t,2),c=n[0],a=n[1],r=e.address,i=e.currency,o=Object(X.c)().account,s=Object(J.k)(r),l=Object(J.g)(i.address),b=te(l,r),u=Object(h.useCallback)(Object(L.a)(E.a.mark((function e(){var t,n,c,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["viewUserInfo","viewUserOfferingAndRefundingAmountsForPools"].map((function(e){return{address:r,name:e,params:[o,[0,1]]}})),e.next=3,Object(V.b)(R,t);case 3:n=e.sent,c=Object(U.a)(n,2),i=c[0],s=c[1],a((function(e){return Object(B.a)(Object(B.a)({},e),{},{isInitialized:!0,poolBasic:Object(B.a)(Object(B.a)({},e.poolBasic),{},{amountTokenCommittedInLP:new K.a(i[0][0].toString()),offeringAmountInToken:new K.a(s[0][0][0].toString()),refundingAmountInLP:new K.a(s[0][0][1].toString()),taxAmountInLP:new K.a(s[0][0][2].toString()),hasClaimed:i[1][0]}),poolUnlimited:Object(B.a)(Object(B.a)({},e.poolUnlimited),{},{amountTokenCommittedInLP:new K.a(i[0][1].toString()),offeringAmountInToken:new K.a(s[0][1][0].toString()),refundingAmountInLP:new K.a(s[0][1][1].toString()),taxAmountInLP:new K.a(s[0][1][2].toString()),hasClaimed:i[1][1]})})}));case 8:case"end":return e.stop()}}),e)}))),[o,r]),j=Object(h.useCallback)((function(){a(Object(B.a)({},da))}),[]);return Object(B.a)(Object(B.a)({},c),{},{allowance:b,contract:s,setPendingTx:function(e,t){return a((function(n){return Object(B.a)(Object(B.a)({},n),{},Object(_.a)({},t,Object(B.a)(Object(B.a)({},n[t]),{},{isPendingTx:e})))}))},setIsClaimed:function(e){a((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(_.a)({},e,Object(B.a)(Object(B.a)({},t[e]),{},{hasClaimed:!0})))}))},fetchIfoData:u,resetIfoData:j})},ma=function(e){var t=e.ifo,n=Q(t),c=xa(t);return Object(w.jsx)(Un,{ifo:t,publicIfoData:n,walletIfoData:c})},pa=function(e){var t=e.ifo,n=Q(t),c=ce(t);return Object(w.jsx)(Un,{ifo:t,publicIfoData:n,walletIfoData:c})},Oa=D.x.filter((function(e){return!e.isActive})),ha=function(){return Object(w.jsx)(zn,{maxWidth:"736px",m:"auto",width:"100%",id:"past-ifos",py:["24px","24px","40px"],children:Oa.map((function(e){switch(e.version){case 1:return Object(w.jsx)(ja,{ifo:e},e.id);case 2:return Object(w.jsx)(ma,{ifo:e},e.id);case 3:return Object(w.jsx)(pa,{ifo:e},e.id);default:return null}}))})};t.default=function(){var e=Object(O.b)().t,t=Object(g.j)(),n=t.path,c=t.isExact;return Object(v.b)(),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.vc,{items:[{label:e("Latest"),href:"/ifo"},{label:e("Finished"),href:"/ifo/history"}],activeItem:c?"/ifo":"/ifo/history"}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(T,{}),Object(w.jsx)(g.b,{exact:!0,path:"".concat(n),children:Object(w.jsx)(oa,{})}),Object(w.jsx)(g.b,{path:"".concat(n,"/history"),children:Object(w.jsx)(p.a,{children:Object(w.jsx)(ha,{})})})]})]})}},777:function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"f",(function(){return S}));var c=n(5),a=n(16),r=(n(3),n(12),n(0)),i=n(22),o=n.n(i),s=n(72),l=n(23),b=n(107),u=n(204),j=n(37),d=n(279),x=n(403),m=n(62),p=n(365),O=(n(150),function(){var e=Object(l.d)((function(e){return{pools:e.pools.data,userDataLoaded:e.pools.userDataLoaded}})),t=e.pools,n=e.userDataLoaded;return{pools:t.map(p.b),userDataLoaded:n}}),h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.c)(),n=t.account,c=Object(u.a)(),a=Object(b.b)();Object(r.useEffect)((function(){Object(l.b)((function(){e&&a(Object(x.b)()),a(Object(x.h)())}))}),[a,c,e]),Object(r.useEffect)((function(){n&&Object(l.b)((function(){a(Object(x.i)({account:n})),e&&a(Object(x.c)(n))}))}),[a,c,n,e]),Object(r.useEffect)((function(){a(Object(x.g)())}),[a])},f=function(){return v(m.g.CakeVault)},g=function(){var e;return e={},Object(a.a)(e,m.g.CakeVault,v(m.g.CakeVault)),Object(a.a)(e,m.g.IfoPool,v(m.g.IfoPool)),e},v=function(e){var t=Object(l.d)((function(t){return e?t.pools[e]:x.m})),n=t.totalShares,c=t.pricePerFullShare,a=t.totalCakeInVault,i=t.estimatedCakeBountyReward,s=t.totalPendingCakeHarvest,b=t.fees,u=b.performanceFee,j=b.callFee,d=b.withdrawalFee,m=b.withdrawalFeePeriod,p=t.userData,O=p.isLoading,h=p.userShares,f=p.cakeAtLastUserAction,g=p.lastDepositedTime,v=p.lastUserActionTime,k=Object(r.useMemo)((function(){return new o.a(i)}),[i]),y=Object(r.useMemo)((function(){return new o.a(s)}),[s]);return{totalShares:Object(r.useMemo)((function(){return new o.a(n)}),[n]),pricePerFullShare:Object(r.useMemo)((function(){return new o.a(c)}),[c]),totalCakeInVault:Object(r.useMemo)((function(){return new o.a(a)}),[a]),estimatedCakeBountyReward:k,totalPendingCakeHarvest:y,fees:{performanceFeeAsDecimal:u&&u/100,performanceFee:u,callFee:j,withdrawalFee:d,withdrawalFeePeriod:m},userData:{isLoading:O,userShares:Object(r.useMemo)((function(){return new o.a(h)}),[h]),cakeAtLastUserAction:Object(r.useMemo)((function(){return new o.a(f)}),[f]),lastDepositedTime:g,lastUserActionTime:v}}},k=function(){return v(m.g.IfoPool)},y=function(){return Object(l.d)((function(e){return{creditStartBlock:e.pools.ifoPool.creditStartBlock,creditEndBlock:e.pools.ifoPool.creditEndBlock,hasEndBlockOver:e.block.currentBlock>=e.pools.ifoPool.creditEndBlock}}))},w=function(){var e=Object(l.d)((function(e){var t,n;return null!==(t=null===(n=e.pools.ifoPool.userData)||void 0===n?void 0:n.credit)&&void 0!==t?t:j.c}));return Object(r.useMemo)((function(){return new o.a(e)}),[e])},S=function(){var e=k().fees.performanceFeeAsDecimal,t=function(e){var t=Object(l.d)((function(t){return{pool:t.pools.data.find((function(t){return t.sousId===e})),userDataLoaded:t.pools.userDataLoaded}})),n=t.pool,c=t.userDataLoaded;return{pool:Object(p.b)(n),userDataLoaded:c}}(0).pool;return{pool:Object(r.useMemo)((function(){var n=Object(c.a)({},t);return n.vaultKey=m.g.IfoPool,n.apr=Object(d.c)(n,e).apr,n.rawApr=t.apr,n}),[e,t])}}},783:function(e,t,n){"use strict";var c=n(3),a=n.n(c),r=n(12),i=n(10),o=n(5),s=n(0),l=n(76),b=n(72),u=n(201),j=n(18),d=n(274),x=n(149),m=n(1),p={approvalState:"idle",confirmState:"idle"},O=function(e,t){switch(t.type){case"requires_approval":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_sending":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"loading"});case"approve_receipt":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"success"});case"approve_error":return Object(o.a)(Object(o.a)({},e),{},{approvalState:"fail"});case"confirm_sending":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"loading"});case"confirm_receipt":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"success"});case"confirm_error":return Object(o.a)(Object(o.a)({},e),{},{confirmState:"fail"});default:return e}};t.a=function(e){var t=e.onApprove,n=e.onConfirm,c=e.onRequiresApproval,o=e.onSuccess,h=void 0===o?l.noop:o,f=e.onApproveSuccess,g=void 0===f?l.noop:f,v=Object(j.b)().t,k=Object(b.c)().account,y=Object(s.useReducer)(O,p),w=Object(i.a)(y,2),S=w[0],I=w[1],C=Object(s.useRef)(c),A=Object(u.a)(),P=A.toastSuccess,T=A.toastError;return Object(s.useEffect)((function(){k&&C.current&&C.current().then((function(e){e&&I({type:"requires_approval"})}))}),[k,C,I]),{isApproving:"loading"===S.approvalState,isApproved:"success"===S.approvalState,isConfirming:"loading"===S.confirmState,isConfirmed:"success"===S.confirmState,hasApproveFailed:"fail"===S.approvalState,hasConfirmFailed:"fail"===S.confirmState,handleApprove:function(){var e=Object(r.a)(a.a.mark((function e(){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,P("".concat(v("Transaction Submitted"),"!"),Object(m.jsx)(x.b,{txHash:n.hash})),I({type:"approve_sending"}),e.next=8,n.wait();case 8:(c=e.sent).status&&(I({type:"approve_receipt"}),g({state:S,receipt:c})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),I({type:"approve_error"}),Object(d.b)(e.t0),T(v("Error"),v("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),handleConfirm:function(){var e=Object(r.a)(a.a.mark((function e(){var t,c,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},I({type:"confirm_sending"}),e.prev=2,e.next=5,n(t);case 5:return c=e.sent,P("".concat(v("Transaction Submitted"),"!"),Object(m.jsx)(x.b,{txHash:c.hash})),e.next=9,c.wait();case 9:(r=e.sent).status&&(I({type:"confirm_receipt"}),h({state:S,receipt:r})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),I({type:"confirm_error"}),Object(d.b)(e.t0),T(v("Error"),v("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}()}}},796:function(e,t,n){"use strict";var c=3600,a=86400,r=2629800,i=31557600;t.a=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=i&&(n.years=Math.floor(t/i),t-=n.years*i),t>=r&&(n.months=Math.floor(t/r),t-=n.months*r),t>=a&&(n.days=Math.floor(t/a),t-=n.days*a),t>=c&&(n.hours=Math.floor(t/c),t-=n.hours*c),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n}},804:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c,a,r,i,o,s=n(14),l=(n(0),n(8)),b=n(2),u=n(18),j=n(1);!function(e){e.ROW="row",e.SEQUENTIAL="sequential"}(o||(o={}));var d=l.e.div(c||(c=Object(s.a)(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: center;\n\n  "," {\n    grid-template-columns: 1fr 24px 1fr;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),x=Object(l.e)(b.v)(a||(a=Object(s.a)(["\n  width: 100%;\n\n  "," {\n    min-width: 160px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),m={width:"24px",color:"textDisabled"},p=Object(l.e)(b.O).attrs(m)(r||(r=Object(s.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),O=Object(l.e)(b.M).attrs(m)(i||(i=Object(s.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),h=Object(j.jsx)(b.j,{spin:!0,color:"currentColor"});t.b=function(e){var t=e.isApproveDisabled,n=e.isApproving,c=e.isConfirming,a=e.isConfirmDisabled,r=e.onApprove,i=e.onConfirm,s=e.buttonArrangement,l=void 0===s?o.ROW:s,m=e.confirmLabel,f=e.confirmId,g=Object(u.b)().t,v=null!==m&&void 0!==m?m:g("Confirm");return l===o.ROW?Object(j.jsxs)(d,{children:[Object(j.jsx)(b.q,{children:Object(j.jsx)(x,{disabled:t,onClick:r,endIcon:n?h:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})}),Object(j.jsxs)(b.cb,{justifyContent:"center",children:[Object(j.jsx)(p,{}),Object(j.jsx)(O,{})]}),Object(j.jsx)(b.q,{children:Object(j.jsx)(x,{id:f,onClick:i,disabled:a,isLoading:c,endIcon:c?h:void 0,children:c?g("Confirming"):v})})]}):Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(b.q,{children:Object(j.jsx)(x,{id:f,onClick:i,disabled:a,isLoading:c,endIcon:c?h:void 0,children:c?g("Confirming"):v})}):Object(j.jsx)(b.q,{children:Object(j.jsx)(x,{onClick:r,endIcon:n?h:void 0,isLoading:n,children:g(n?"Enabling":"Enable")})})})}},811:function(e,t,n){"use strict";var c,a,r,i=n(5),o=n(10),s=n(53),l=n(14),b=n(0),u=n(8),j=n(2),d=n(18),x=n(1),m=["title","children"],p=Object(u.e)(j.cb)(c||(c=Object(l.a)(["\n  cursor: pointer;\n"]))),O=Object(u.e)(j.cb)(a||(a=Object(l.a)(["\n  button {\n    align-items: center;\n    justify-content: flex-start;\n  }\n"]))),h=Object(u.e)(j.cb)(r||(r=Object(l.a)(["\n  overflow: hidden;\n  height: ",";\n  padding-bottom: ",";\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.isExpanded?"100%":"0px"}),(function(e){return e.isExpanded?"16px":"0px"}),(function(e){return e.theme.colors.inputSecondary}));t.a=function(e){var t=e.title,n=e.children,c=Object(s.a)(e,m),a=Object(d.b)().t,r=Object(b.useState)(!1),l=Object(o.a)(r,2),u=l[0],f=l[1];return Object(x.jsxs)(p,Object(i.a)(Object(i.a)({},c),{},{flexDirection:"column",onClick:function(){return f(!u)},children:[Object(x.jsxs)(j.cb,{justifyContent:"space-between",alignItems:"center",pb:"16px",children:[Object(x.jsx)(j.Gc,{fontWeight:"bold",children:t}),Object(x.jsx)(O,{children:Object(x.jsx)(j.ab,{expanded:u,onClick:function(){return f(!u)},children:a(u?"Hide":"Details")})})]}),Object(x.jsx)(h,{isExpanded:u,flexDirection:"column",children:n})]}))}},826:function(e,t,n){"use strict";var c=n(10),a=n(0),r=n(233);t.a=function(){var e=Object(a.useState)(Date.now()),t=Object(c.a)(e,2),n=t[0],i=t[1];return{lastUpdated:n,previousLastUpdated:Object(r.a)(n),setLastUpdated:Object(a.useCallback)((function(){i(Date.now())}),[i])}}}}]);
//# sourceMappingURL=32.dd2a39c1.chunk.js.map